<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>sge.gfx &mdash; SGE Game Engine 1.5 documentation</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="SGE Game Engine 1.5 documentation" href="../../index.html" />
    <link rel="up" title="Module code" href="../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SGE Game Engine 1.5 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for sge.gfx</h1><div class="highlight"><pre>
<span class="c1"># Copyright (C) 2012-2016 Julie Marchant &lt;onpon4@riseup.net&gt;</span>
<span class="c1">#</span>
<span class="c1"># This file is part of the Pygame SGE.</span>
<span class="c1">#</span>
<span class="c1"># The Pygame SGE is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU Lesser General Public License as published by</span>
<span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># The Pygame SGE is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU Lesser General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU Lesser General Public License</span>
<span class="c1"># along with the Pygame SGE.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module provides classes related to rendering graphics.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">absolute_import</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>

<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">import</span> <span class="nn">pygame</span>
<span class="kn">import</span> <span class="nn">six</span>

<span class="kn">import</span> <span class="nn">sge</span>
<span class="kn">from</span> <span class="nn">sge</span> <span class="kn">import</span> <span class="n">r</span>
<span class="kn">from</span> <span class="nn">sge.r</span> <span class="kn">import</span> <span class="p">(</span><span class="n">_check_color_input</span><span class="p">,</span> <span class="n">_check_color</span><span class="p">,</span> <span class="n">_scale</span><span class="p">,</span> <span class="n">_get_blend_flags</span><span class="p">,</span>
                   <span class="n">_screen_blend</span><span class="p">,</span> <span class="n">f_split_text</span><span class="p">,</span> <span class="n">s_get_image</span><span class="p">,</span> <span class="n">s_set_size</span><span class="p">,</span>
                   <span class="n">s_refresh</span><span class="p">,</span> <span class="n">s_set_transparency</span><span class="p">,</span> <span class="n">s_from_text</span><span class="p">,</span> <span class="n">tg_blit</span><span class="p">)</span>

<span class="n">COLORS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;white&#39;</span><span class="p">:</span> <span class="s1">&#39;#ffffff&#39;</span><span class="p">,</span> <span class="s1">&#39;silver&#39;</span><span class="p">:</span> <span class="s1">&#39;#c0c0c0&#39;</span><span class="p">,</span> <span class="s1">&#39;gray&#39;</span><span class="p">:</span> <span class="s1">&#39;#808080&#39;</span><span class="p">,</span>
          <span class="s1">&#39;black&#39;</span><span class="p">:</span> <span class="s1">&#39;#000000&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">:</span> <span class="s1">&#39;#ff0000&#39;</span><span class="p">,</span> <span class="s1">&#39;maroon&#39;</span><span class="p">:</span> <span class="s1">&#39;#800000&#39;</span><span class="p">,</span>
          <span class="s1">&#39;yellow&#39;</span><span class="p">:</span> <span class="s1">&#39;#ffff00&#39;</span><span class="p">,</span> <span class="s1">&#39;olive&#39;</span><span class="p">:</span> <span class="s1">&#39;#808000&#39;</span><span class="p">,</span> <span class="s1">&#39;lime&#39;</span><span class="p">:</span> <span class="s1">&#39;#00ff00&#39;</span><span class="p">,</span>
          <span class="s1">&#39;green&#39;</span><span class="p">:</span> <span class="s1">&#39;#008000&#39;</span><span class="p">,</span> <span class="s1">&#39;aqua&#39;</span><span class="p">:</span> <span class="s1">&#39;#00ffff&#39;</span><span class="p">,</span> <span class="s1">&#39;teal&#39;</span><span class="p">:</span> <span class="s1">&#39;#008080&#39;</span><span class="p">,</span>
          <span class="s1">&#39;blue&#39;</span><span class="p">:</span> <span class="s1">&#39;#0000ff&#39;</span><span class="p">,</span> <span class="s1">&#39;navy&#39;</span><span class="p">:</span> <span class="s1">&#39;#000080&#39;</span><span class="p">,</span> <span class="s1">&#39;fuchsia&#39;</span><span class="p">:</span> <span class="s1">&#39;#ff00ff&#39;</span><span class="p">,</span>
          <span class="s1">&#39;purple&#39;</span><span class="p">:</span> <span class="s1">&#39;#800080&#39;</span><span class="p">}</span>
<span class="n">COLOR_NAMES</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">COLORS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">COLOR_NAMES</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Color&quot;</span><span class="p">,</span> <span class="s2">&quot;Sprite&quot;</span><span class="p">,</span> <span class="s2">&quot;TileGrid&quot;</span><span class="p">,</span> <span class="s2">&quot;Font&quot;</span><span class="p">,</span> <span class="s2">&quot;BackgroundLayer&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Background&quot;</span><span class="p">]</span>


<div class="viewcode-block" id="Color"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Color">[docs]</a><span class="k">class</span> <span class="nc">Color</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class stores color information.</span>

<span class="sd">    Objects of this class can be converted to iterables indicating the</span>
<span class="sd">    object&#39;s :attr:`red`, :attr:`green`, :attr:`blue`, and :attr:`alpha`</span>
<span class="sd">    values, respectively; to integers which can be interpreted as a</span>
<span class="sd">    hexadecimal representation of the color, excluding alpha</span>
<span class="sd">    transparency; and to strings which indicate the English name of the</span>
<span class="sd">    color (in all lowercase) if possible, and :attr:`hex_string`</span>
<span class="sd">    otherwise.</span>

<span class="sd">    .. attribute:: red</span>

<span class="sd">       The red component of the color as an integer, where ``0``</span>
<span class="sd">       indicates no red intensity and ``255`` indicates full red</span>
<span class="sd">       intensity.</span>

<span class="sd">    .. attribute:: green</span>

<span class="sd">       The green component of the color as an integer, where ``0``</span>
<span class="sd">       indicates no green intensity and ``255`` indicates full green</span>
<span class="sd">       intensity.</span>

<span class="sd">    .. attribute:: blue</span>

<span class="sd">       The blue component of the color as an integer, where ``0``</span>
<span class="sd">       indicates no blue intensity and ``255`` indicates full blue</span>
<span class="sd">       intensity.</span>

<span class="sd">    .. attribute:: alpha</span>

<span class="sd">       The alpha transparency of the color as an integer, where ``0``</span>
<span class="sd">       indicates full transparency and ``255`` indicates full opacity.</span>

<span class="sd">    .. attribute:: hex_string</span>

<span class="sd">       An HTML hex string representation of the color.  (Read-only)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Arguments:</span>

<span class="sd">        - ``value`` -- The value indicating the color represented by</span>
<span class="sd">          this object.  Should be one of the following:</span>

<span class="sd">          - One of the 16 HTML color names (case-insensitive).</span>
<span class="sd">          - An HTML-style hex string containing 3, 4, 6, or 8 digits</span>
<span class="sd">            which indicate the red, green, blue, and alpha components of</span>
<span class="sd">            the color, respectively, as pairs of hexadecimal digits.  If</span>
<span class="sd">            the string contains 3 or 4 digits, each digit is duplicated;</span>
<span class="sd">            for example, ``&quot;#F80&quot;`` is equivalent to ``&quot;#FF8800&quot;``.</span>
<span class="sd">          - An integer which, when written as a hexadecimal number,</span>
<span class="sd">            specifies the components of the color in the same way as an</span>
<span class="sd">            HTML-style hex string containing 6 digits.</span>
<span class="sd">          - A list or tuple indicating the red, green, and blue</span>
<span class="sd">            components, and optionally the alpha component, in that</span>
<span class="sd">            order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="mi">255</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">COLORS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">value</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">green</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue</span> <span class="o">=</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">green</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
                <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">:(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)],</span> <span class="mi">16</span><span class="p">)</span>
                           <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">green</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue</span> <span class="o">=</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
                <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">:(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)],</span> <span class="mi">16</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">green</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid color string.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">integer_types</span><span class="p">):</span>
            <span class="n">b</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="p">[(</span><span class="n">value</span> <span class="o">&amp;</span> <span class="mi">256</span> <span class="o">**</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">256</span> <span class="o">**</span> <span class="n">i</span>
                       <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">green</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue</span> <span class="o">=</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">green</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue</span> <span class="o">=</span> <span class="n">value</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid color tuple.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid color value.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">red</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_r</span>

    <span class="nd">@red.setter</span>
    <span class="k">def</span> <span class="nf">red</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_r</span> <span class="o">=</span> <span class="n">_check_color_input</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">green</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_g</span>

    <span class="nd">@green.setter</span>
    <span class="k">def</span> <span class="nf">green</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_g</span> <span class="o">=</span> <span class="n">_check_color_input</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">blue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_b</span>

    <span class="nd">@blue.setter</span>
    <span class="k">def</span> <span class="nf">blue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_b</span> <span class="o">=</span> <span class="n">_check_color_input</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_a</span>

    <span class="nd">@alpha.setter</span>
    <span class="k">def</span> <span class="nf">alpha</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_a</span> <span class="o">=</span> <span class="n">_check_color_input</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hex_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="o">==</span> <span class="mi">255</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="nb">hex</span><span class="p">(</span><span class="n">c</span><span class="p">)[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[:</span><span class="mi">3</span><span class="p">]]</span>
            <span class="k">return</span> <span class="s2">&quot;#{}{}{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="nb">hex</span><span class="p">(</span><span class="n">c</span><span class="p">)[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">]</span>
            <span class="k">return</span> <span class="s2">&quot;#{}{}{}{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">green</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">red</span> <span class="o">*</span> <span class="mi">256</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">green</span> <span class="o">*</span> <span class="mi">256</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;sge.gfx.Color(&quot;{}&quot;)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">COLOR_NAMES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hex_string</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hex_string</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)[</span><span class="n">index</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">c</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">green</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">c</span></div>


<div class="viewcode-block" id="Sprite"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite">[docs]</a><span class="k">class</span> <span class="nc">Sprite</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class stores images and information about how the SGE is to use</span>
<span class="sd">    those images.</span>

<span class="sd">    What image formats are supported depends on the implementation of</span>
<span class="sd">    the SGE, but image formats that are generally a good choice are PNG</span>
<span class="sd">    and JPEG.  See the implementation-specific information for a full</span>
<span class="sd">    list of supported formats.</span>

<span class="sd">    .. attribute:: width</span>

<span class="sd">       The width of the sprite.</span>

<span class="sd">       .. note::</span>

<span class="sd">          Changing this attribute will cause the sprite to be scaled</span>
<span class="sd">          horizontally.  This is a destructive transformation: it can</span>
<span class="sd">          result in loss of pixel information, especially if it is done</span>
<span class="sd">          repeatedly.  Because of this, it is advised that you do not</span>
<span class="sd">          adjust this value for routine scaling.  Use the</span>
<span class="sd">          :attr:`image_xscale` attribute of a :class:`sge.dsp.Object`</span>
<span class="sd">          object instead.</span>

<span class="sd">    .. attribute:: height</span>

<span class="sd">       The height of the sprite.</span>

<span class="sd">       .. note::</span>

<span class="sd">          Changing this attribute will cause the sprite to be scaled</span>
<span class="sd">          vertically.  This is a destructive transformation: it can</span>
<span class="sd">          result in loss of pixel information, especially if it is done</span>
<span class="sd">          repeatedly.  Because of this, it is advised that you do not</span>
<span class="sd">          adjust this value for routine scaling.  Use the</span>
<span class="sd">          :attr:`image_yscale` attribute of a :class:`sge.dsp.Object`</span>
<span class="sd">          object instead.</span>

<span class="sd">    .. attribute:: transparent</span>

<span class="sd">       Whether or not the image should be partially transparent, based</span>
<span class="sd">       on the image&#39;s alpha channel.  If this is :const:`False`, all</span>
<span class="sd">       pixels in the image will be treated as fully opaque regardless</span>
<span class="sd">       of what the image file says their opacity should be.</span>

<span class="sd">       This can also be set to a :class:`sge.gfx.Color` object, which</span>
<span class="sd">       will cause the indicated color to be used as a colorkey.</span>

<span class="sd">    .. attribute:: origin_x</span>

<span class="sd">       The suggested horizontal location of the origin relative to the</span>
<span class="sd">       left edge of the images.</span>

<span class="sd">    .. attribute:: origin_y</span>

<span class="sd">       The suggested vertical location of the origin relative to the top</span>
<span class="sd">       edge of the images.</span>

<span class="sd">    .. attribute:: fps</span>

<span class="sd">       The suggested rate in frames per second to animate the image at.</span>
<span class="sd">       Can be negative, in which case animation will be reversed.</span>

<span class="sd">    .. attribute:: speed</span>

<span class="sd">       The suggested rate to animate the image at as a factor of</span>
<span class="sd">       :attr:`sge.game.fps`.  Can be negative, in which case animation</span>
<span class="sd">       will be reversed.</span>

<span class="sd">    .. attribute:: bbox_x</span>

<span class="sd">       The horizontal location relative to the sprite of the suggested</span>
<span class="sd">       bounding box to use with it.  If set to :const:`None`, it will</span>
<span class="sd">       become equal to ``-origin_x`` (which is always the left edge of</span>
<span class="sd">       the image).</span>

<span class="sd">    .. attribute:: bbox_y</span>

<span class="sd">       The vertical location relative to the sprite of the suggested</span>
<span class="sd">       bounding box to use with it.  If set to :const:`None`, it will</span>
<span class="sd">       become equal to ``-origin_y`` (which is always the top edge of</span>
<span class="sd">       the image).</span>

<span class="sd">    .. attribute:: bbox_width</span>

<span class="sd">       The width of the suggested bounding box.  If set to</span>
<span class="sd">       :const:`None`, it will become equal to ``width - bbox_x``</span>
<span class="sd">       (which is always everything on the image to the right of</span>
<span class="sd">       :attr:`bbox_x`).</span>

<span class="sd">    .. attribute:: bbox_height</span>

<span class="sd">       The height of the suggested bounding box.  If set to</span>
<span class="sd">       :const:`None`, it will become equal to ``height - bbox_y``</span>
<span class="sd">       (which is always everything on the image below :attr:`bbox_y`).</span>

<span class="sd">    .. attribute:: name</span>

<span class="sd">       The name of the sprite given when it was created.  (Read-only)</span>

<span class="sd">    .. attribute:: frames</span>

<span class="sd">       The number of animation frames in the sprite.  (Read-only)</span>

<span class="sd">    .. attribute:: rd</span>

<span class="sd">       Reserved dictionary for internal use by the SGE.  (Read-only)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__w</span>

    <span class="nd">@width.setter</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__w</span> <span class="o">!=</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__w</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            <span class="n">s_set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__h</span>

    <span class="nd">@height.setter</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__h</span> <span class="o">!=</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__h</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            <span class="n">s_set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">transparent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__transparent</span>

    <span class="nd">@transparent.setter</span>
    <span class="k">def</span> <span class="nf">transparent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__transparent</span> <span class="o">!=</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__transparent</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">speed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">/</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">fps</span>

    <span class="nd">@speed.setter</span>
    <span class="k">def</span> <span class="nf">speed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="n">value</span> <span class="o">*</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">fps</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bbox_x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_x</span>

    <span class="nd">@bbox_x.setter</span>
    <span class="k">def</span> <span class="nf">bbox_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_x</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_x</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bbox_y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_y</span>

    <span class="nd">@bbox_y.setter</span>
    <span class="k">def</span> <span class="nf">bbox_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_y</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_y</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bbox_width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_width</span>

    <span class="nd">@bbox_width.setter</span>
    <span class="k">def</span> <span class="nf">bbox_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_width</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_x</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bbox_height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_height</span>

    <span class="nd">@bbox_height.setter</span>
    <span class="k">def</span> <span class="nf">bbox_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_height</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_y</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">frames</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">])</span>

<div class="viewcode-block" id="Sprite.__init__"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">transparent</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">origin_y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">bbox_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">bbox_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_height</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Arguments:</span>

<span class="sd">        - ``name`` -- The base name of the image files, used to find all</span>
<span class="sd">          individual image files that make up the sprite&#39;s animation`.</span>
<span class="sd">          One of the following rules will be used to find the images:</span>

<span class="sd">          - The base name plus a valid image extension.  If this rule is</span>
<span class="sd">            used, the image will be loaded as a single-frame sprite.</span>
<span class="sd">          - The base name and an integer separated by either a hyphen</span>
<span class="sd">            (``-``) or an underscore (``_``) and followed by a valid</span>
<span class="sd">            image extension.  If this rule is used, all images with</span>
<span class="sd">            names like this are loaded and treated as an animation, with</span>
<span class="sd">            the lower-numbered images being earlier frames.</span>
<span class="sd">          - The base name and an integer separated by either ``-strip``</span>
<span class="sd">            or ``_strip`` and followed by a valid image extension.  If</span>
<span class="sd">            this rule is used, the image will be treated as an animation</span>
<span class="sd">            read as a horizontal reel from left to right, split into the</span>
<span class="sd">            number of frames indicated by the integer.</span>
<span class="sd">          - If the base name is :const:`None`, the sprite will be a</span>
<span class="sd">            fully transparent rectangle at the specified size (with both</span>
<span class="sd">            ``width`` and ``height`` defaulting to 32 if they are set to</span>
<span class="sd">            :const:`None`).  The SGE decides what to assign to the</span>
<span class="sd">            sprite&#39;s :attr:`name` attribute in this case, but it will</span>
<span class="sd">            always be a string.</span>

<span class="sd">          If none of the above rules can be used, :exc:`OSError` is</span>
<span class="sd">          raised.</span>

<span class="sd">        - ``directory`` -- The directory to search for image files in.</span>

<span class="sd">        All other arguments set the respective initial attributes of the</span>
<span class="sd">        sprite.  See the documentation for :class:`Sprite` for more</span>
<span class="sd">        information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;drawcycle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">fname_single</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">fname_frames</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">fname_strip</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">errlist</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">check_alpha</span><span class="p">(</span><span class="n">surface</span><span class="p">):</span>
                <span class="c1"># Check whether the surface has a colorkey.  If it does,</span>
                <span class="c1"># return the surface converted to use alpha</span>
                <span class="c1"># transparency.  Otherwise, return the surface.</span>
                <span class="k">if</span> <span class="n">surface</span><span class="o">.</span><span class="n">get_colorkey</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">surface</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>

                <span class="k">return</span> <span class="n">surface</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">directory</span><span class="p">:</span>
                <span class="n">directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">curdir</span>
            <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
                <span class="n">full_fname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">fname</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="ow">and</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">full_fname</span><span class="p">)):</span>
                    <span class="n">root</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">root</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                        <span class="n">split</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="n">root</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                        <span class="n">split</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">root</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                        <span class="n">split</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">continue</span>

                    <span class="k">if</span> <span class="n">root</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                        <span class="n">fname_single</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_fname</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">fname_frames</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                            <span class="n">fname_frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
                        <span class="n">fname_frames</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">full_fname</span>
                    <span class="k">elif</span> <span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;strip&#39;</span><span class="p">)</span> <span class="ow">and</span>
                          <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">5</span><span class="p">:]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()):</span>
                        <span class="n">fname_strip</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_fname</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">fname_single</span><span class="p">):</span>
                <span class="c1"># Load the single image</span>
                <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">fname_single</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
                    <span class="k">except</span> <span class="n">pygame</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="n">errlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check_alpha</span><span class="p">(</span><span class="n">img</span><span class="p">))</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="n">fname_frames</span><span class="p">):</span>
                <span class="c1"># Load the multiple images</span>
                <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">fname_frames</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">fname</span><span class="p">:</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
                        <span class="k">except</span> <span class="n">pygame</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                            <span class="n">errlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check_alpha</span><span class="p">(</span><span class="n">img</span><span class="p">))</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="n">fname_strip</span><span class="p">):</span>
                <span class="c1"># Load the strip (sprite sheet)</span>
                <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">fname_strip</span><span class="p">:</span>
                    <span class="n">root</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fname</span><span class="p">))</span>
                    <span class="k">assert</span> <span class="s1">&#39;-&#39;</span> <span class="ow">in</span> <span class="n">root</span> <span class="ow">or</span> <span class="s1">&#39;_&#39;</span> <span class="ow">in</span> <span class="n">root</span>
                    <span class="k">assert</span> <span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span> <span class="ow">or</span>
                            <span class="n">root</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">root</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                        <span class="n">split</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">split</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">sheet</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
                    <span class="k">except</span> <span class="n">pygame</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="n">errlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">sheet</span> <span class="o">=</span> <span class="n">check_alpha</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span>
                        <span class="n">flags</span> <span class="o">=</span> <span class="n">sheet</span><span class="o">.</span><span class="n">get_flags</span><span class="p">()</span>
                        <span class="k">assert</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">5</span><span class="p">:]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span>
                        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">5</span><span class="p">:])</span>

                        <span class="n">img_w</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sheet</span><span class="o">.</span><span class="n">get_width</span><span class="p">())</span> <span class="o">//</span> <span class="n">n</span>
                        <span class="n">img_h</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sheet</span><span class="o">.</span><span class="n">get_height</span><span class="p">())</span>
                        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">img_w</span> <span class="o">*</span> <span class="n">n</span><span class="p">,</span> <span class="n">img_w</span><span class="p">):</span>
                            <span class="n">img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">img_w</span><span class="p">,</span> <span class="n">img_h</span><span class="p">),</span> <span class="n">flags</span><span class="p">)</span>
                            <span class="n">img</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">sheet</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">),</span> <span class="mi">0</span><span class="p">))</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]:</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Pygame errors during search:&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">errlist</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">errlist</span><span class="p">:</span>
                        <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Supported file(s) for sprite name &quot;{}&quot; not found in {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">directory</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Name is None; default to a blank rectangle.</span>
            <span class="k">if</span> <span class="n">width</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">width</span> <span class="o">=</span> <span class="mi">32</span>
            <span class="k">if</span> <span class="n">height</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">height</span> <span class="o">=</span> <span class="mi">32</span>
            <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">width</span><span class="p">))</span>
            <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">height</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__w</span> <span class="o">=</span> <span class="n">width</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__h</span> <span class="o">=</span> <span class="n">height</span>

            <span class="c1"># Choose name</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;sge-pygame-dynamicsprite&quot;</span>

            <span class="n">img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
            <span class="n">img</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">width</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">width</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]:</span>
                <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">image</span><span class="o">.</span><span class="n">get_width</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">height</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">height</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]:</span>
                <span class="n">height</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="n">image</span><span class="o">.</span><span class="n">get_height</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__w</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">width</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__h</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">height</span><span class="p">))</span>
        <span class="n">s_set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">=</span> <span class="n">origin_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">=</span> <span class="n">origin_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__transparent</span> <span class="o">=</span> <span class="n">transparent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="n">fps</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_x</span> <span class="o">=</span> <span class="n">bbox_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_y</span> <span class="o">=</span> <span class="n">bbox_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_width</span> <span class="o">=</span> <span class="n">bbox_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_height</span> <span class="o">=</span> <span class="n">bbox_height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;locked&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.append_frame"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.append_frame">[docs]</a>    <span class="k">def</span> <span class="nf">append_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Append a new blank frame to the end of the sprite.&quot;&quot;&quot;</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">img</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.insert_frame"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.insert_frame">[docs]</a>    <span class="k">def</span> <span class="nf">insert_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Insert a new blank frame into the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``frame`` -- The frame of the sprite to insert the new frame</span>
<span class="sd">          in front of, where ``0`` is the first frame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">img</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.extend"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.extend">[docs]</a>    <span class="k">def</span> <span class="nf">extend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sprite</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extend this sprite with the frames of another sprite.</span>

<span class="sd">        If the size of the frames added is different from the size of</span>
<span class="sd">        this sprite, they are scaled to this sprite&#39;s size.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``sprite`` -- The sprite to add the frames of to this sprite.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">sprite</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">])</span>
        <span class="n">s_set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.delete_frame"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.delete_frame">[docs]</a>    <span class="k">def</span> <span class="nf">delete_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete a frame from the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``frame`` -- The frame of the sprite to delete, where ``0`` is</span>
<span class="sd">          the first frame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">frame</span><span class="p">]</span></div>

<div class="viewcode-block" id="Sprite.get_pixel"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.get_pixel">[docs]</a>    <span class="k">def</span> <span class="nf">get_pixel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a :class:`sge.gfx.Color` object indicating the color of a</span>
<span class="sd">        particular pixel on the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``x`` -- The horizontal location relative to the sprite of the</span>
<span class="sd">          pixel to check.</span>
<span class="sd">        - ``y`` -- The vertical location relative to the sprite of the</span>
<span class="sd">          pixel to check.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to check, where ``0`` is</span>
<span class="sd">          the first frame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">frame</span> <span class="o">%=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span>
        <span class="n">pg_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">frame</span><span class="p">]</span><span class="o">.</span><span class="n">get_at</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">Color</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">pg_color</span><span class="p">))</span></div>

<div class="viewcode-block" id="Sprite.get_pixels"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.get_pixels">[docs]</a>    <span class="k">def</span> <span class="nf">get_pixels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a two-dimensional list of :class`sge.gfx.Color` objects</span>
<span class="sd">        indicating the colors of a particular frame&#39;s pixels.</span>

<span class="sd">        A returned list given the name ``pixels`` is indexed as</span>
<span class="sd">        ``pixels[x][y]``, where ``x`` is the horizontal location of the</span>
<span class="sd">        pixel and ``y`` is the vertical location of the pixel.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``frame`` -- The frame of the sprite to check, where ``0`` is</span>
<span class="sd">          the first frame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">frame</span> <span class="o">%=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span>
        <span class="n">surf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">frame</span><span class="p">]</span>
        <span class="n">surf</span><span class="o">.</span><span class="n">lock</span><span class="p">()</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">surf</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
        <span class="n">pixels</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Color</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">surf</span><span class="o">.</span><span class="n">get_at</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)))</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="n">h</span><span class="p">)]</span>
                  <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="n">w</span><span class="p">)]</span>
        <span class="n">surf</span><span class="o">.</span><span class="n">unlock</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">pixels</span></div>

<div class="viewcode-block" id="Sprite.draw_dot"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_dot">[docs]</a>    <span class="k">def</span> <span class="nf">draw_dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">blend_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw a single-pixel dot on the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``x`` -- The horizontal location relative to the sprite to</span>
<span class="sd">          draw the dot.</span>
<span class="sd">        - ``y`` -- The vertical location relative to the sprite to draw</span>
<span class="sd">          the dot.</span>
<span class="sd">        - ``color`` -- A :class:`sge.gfx.Color` object representing the</span>
<span class="sd">          color of the dot.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to draw on, where ``0``</span>
<span class="sd">          is the first frame; set to :const:`None` to draw on all</span>
<span class="sd">          frames.</span>
<span class="sd">        - ``blend_mode`` -- The blend mode to use.  Possible blend modes</span>
<span class="sd">          are:</span>

<span class="sd">          - :data:`sge.BLEND_NORMAL`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MAXIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MAXIMUM`</span>

<span class="sd">          :const:`None` is treated as :data:`sge.BLEND_NORMAL`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">pg_color</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">color</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="n">pygame_flags</span> <span class="o">=</span> <span class="n">_get_blend_flags</span><span class="p">(</span><span class="n">blend_mode</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">color</span><span class="o">.</span><span class="n">alpha</span> <span class="o">==</span> <span class="mi">255</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">pygame_flags</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_at</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">pg_color</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stamp</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
            <span class="n">stamp</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pg_color</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
                <span class="n">dsurf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SCREEN</span><span class="p">:</span>
                    <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SCREEN</span><span class="p">:</span>
                    <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dsurf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span> <span class="n">pygame_flags</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_line"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_line">[docs]</a>    <span class="k">def</span> <span class="nf">draw_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">thickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">anti_alias</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                  <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">blend_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw a line segment on the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``x1`` -- The horizontal location relative to the sprite of</span>
<span class="sd">          the first end point of the line segment.</span>
<span class="sd">        - ``y1`` -- The vertical location relative to the sprite of the</span>
<span class="sd">          first end point of the line segment.</span>
<span class="sd">        - ``x2`` -- The horizontal location relative to the sprite of</span>
<span class="sd">          the second end point of the line segment.</span>
<span class="sd">        - ``y2`` -- The vertical location relative to the sprite of the</span>
<span class="sd">          second end point of the line segment.</span>
<span class="sd">        - ``color`` -- A :class:`sge.gfx.Color` object representing the</span>
<span class="sd">          color of the line segment.</span>
<span class="sd">        - ``thickness`` -- The thickness of the line segment.</span>
<span class="sd">        - ``anti_alias`` -- Whether or not anti-aliasing should be used.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to draw on, where ``0``</span>
<span class="sd">          is the first frame; set to :const:`None` to draw on all</span>
<span class="sd">          frames.</span>
<span class="sd">        - ``blend_mode`` -- The blend mode to use.  Possible blend modes</span>
<span class="sd">          are:</span>

<span class="sd">          - :data:`sge.BLEND_NORMAL`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MAXIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MAXIMUM`</span>

<span class="sd">          :const:`None` is treated as :data:`sge.BLEND_NORMAL`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>

        <span class="n">x1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x1</span><span class="p">))</span>
        <span class="n">y1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y1</span><span class="p">))</span>
        <span class="n">x2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x2</span><span class="p">))</span>
        <span class="n">y2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y2</span><span class="p">))</span>
        <span class="n">thickness</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">thickness</span><span class="p">))</span>
        <span class="n">pg_color</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">color</span><span class="p">)</span>
        <span class="n">thickness</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">thickness</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="n">pygame_flags</span> <span class="o">=</span> <span class="n">_get_blend_flags</span><span class="p">(</span><span class="n">blend_mode</span><span class="p">)</span>

        <span class="n">stamp</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">stamp</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">anti_alias</span> <span class="ow">and</span> <span class="n">thickness</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">aaline</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_color</span><span class="p">,</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_color</span><span class="p">,</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">),</span>
                             <span class="n">thickness</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">dsurf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dsurf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span> <span class="n">pygame_flags</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_rectangle"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_rectangle">[docs]</a>    <span class="k">def</span> <span class="nf">draw_rectangle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                       <span class="n">outline_thickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">blend_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw a rectangle on the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``x`` -- The horizontal location relative to the sprite to</span>
<span class="sd">          draw the rectangle.</span>
<span class="sd">        - ``y`` -- The vertical location relative to the sprite to draw</span>
<span class="sd">          the rectangle.</span>
<span class="sd">        - ``width`` -- The width of the rectangle.</span>
<span class="sd">        - ``height`` -- The height of the rectangle.</span>
<span class="sd">        - ``fill`` -- A :class:`sge.gfx.Color` object representing the</span>
<span class="sd">          color of the fill of the rectangle.</span>
<span class="sd">        - ``outline`` -- A :class:`sge.gfx.Color` object representing</span>
<span class="sd">          the color of the outline of the rectangle.</span>
<span class="sd">        - ``outline_thickness`` -- The thickness of the outline of the</span>
<span class="sd">          rectangle.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to draw on, where ``0``</span>
<span class="sd">          is the first frame; set to :const:`None` to draw on all</span>
<span class="sd">          frames.</span>
<span class="sd">        - ``blend_mode`` -- The blend mode to use.  Possible blend modes</span>
<span class="sd">          are:</span>

<span class="sd">          - :data:`sge.BLEND_NORMAL`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MAXIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MAXIMUM`</span>

<span class="sd">          :const:`None` is treated as :data:`sge.BLEND_NORMAL`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">fill</span><span class="p">)</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">outline</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">width</span><span class="p">))</span>
        <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">height</span><span class="p">))</span>
        <span class="n">outline_thickness</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">outline_thickness</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline_thickness</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">outline</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">outline</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># There&#39;s no point in trying in this case.</span>
            <span class="k">return</span>

        <span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pg_fill</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">fill</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pg_outl</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">outline</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="n">pygame_flags</span> <span class="o">=</span> <span class="n">_get_blend_flags</span><span class="p">(</span><span class="n">blend_mode</span><span class="p">)</span>

        <span class="n">stamp</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">stamp</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">stamp</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pg_fill</span><span class="p">,</span> <span class="n">rect</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_outl</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">outline_thickness</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">dsurf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dsurf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span> <span class="n">pygame_flags</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_ellipse"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_ellipse">[docs]</a>    <span class="k">def</span> <span class="nf">draw_ellipse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                     <span class="n">outline_thickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">anti_alias</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                     <span class="n">blend_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw an ellipse on the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``x`` -- The horizontal location relative to the sprite to</span>
<span class="sd">          position the imaginary rectangle containing the ellipse.</span>
<span class="sd">        - ``y`` -- The vertical location relative to the sprite to</span>
<span class="sd">          position the imaginary rectangle containing the ellipse.</span>
<span class="sd">        - ``width`` -- The width of the ellipse.</span>
<span class="sd">        - ``height`` -- The height of the ellipse.</span>
<span class="sd">        - ``fill`` -- A :class:`sge.gfx.Color` object representing the</span>
<span class="sd">          color of the fill of the ellipse.</span>
<span class="sd">        - ``outline`` -- A :class:`sge.gfx.Color` object representing</span>
<span class="sd">          the color of the outline of the ellipse.</span>
<span class="sd">        - ``outline_thickness`` -- The thickness of the outline of the</span>
<span class="sd">          ellipse.</span>
<span class="sd">        - ``anti_alias`` -- Whether or not anti-aliasing should be used.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to draw on, where ``0``</span>
<span class="sd">          is the first frame; set to :const:`None` to draw on all</span>
<span class="sd">          frames.</span>
<span class="sd">        - ``blend_mode`` -- The blend mode to use.  Possible blend modes</span>
<span class="sd">          are:</span>

<span class="sd">          - :data:`sge.BLEND_NORMAL`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MAXIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MAXIMUM`</span>

<span class="sd">          :const:`None` is treated as :data:`sge.BLEND_NORMAL`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">fill</span><span class="p">)</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">outline</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">width</span><span class="p">))</span>
        <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">height</span><span class="p">))</span>
        <span class="n">outline_thickness</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">outline_thickness</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline_thickness</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">outline</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">outline</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># There&#39;s no point in trying in this case.</span>
            <span class="k">return</span>

        <span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pg_fill</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">fill</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pg_outl</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">outline</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="n">pygame_flags</span> <span class="o">=</span> <span class="n">_get_blend_flags</span><span class="p">(</span><span class="n">blend_mode</span><span class="p">)</span>

        <span class="n">stamp</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">stamp</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">ellipse</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_fill</span><span class="p">,</span> <span class="n">rect</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">ellipse</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_outl</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">outline_thickness</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">dsurf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dsurf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span> <span class="n">pygame_flags</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_circle"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_circle">[docs]</a>    <span class="k">def</span> <span class="nf">draw_circle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                    <span class="n">outline_thickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">anti_alias</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                    <span class="n">blend_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw a circle on the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``x`` -- The horizontal location relative to the sprite to</span>
<span class="sd">          position the center of the circle.</span>
<span class="sd">        - ``y`` -- The vertical location relative to the sprite to</span>
<span class="sd">          position the center of the circle.</span>
<span class="sd">        - ``radius`` -- The radius of the circle.</span>
<span class="sd">        - ``fill`` -- A :class:`sge.gfx.Color` object representing the</span>
<span class="sd">          color of the fill of the circle.</span>
<span class="sd">        - ``outline`` -- A :class:`sge.gfx.Color` object representing</span>
<span class="sd">          the color of the outline of the circle.</span>
<span class="sd">        - ``outline_thickness`` -- The thickness of the outline of the</span>
<span class="sd">          circle.</span>
<span class="sd">        - ``anti_alias`` -- Whether or not anti-aliasing should be used.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to draw on, where ``0``</span>
<span class="sd">          is the first frame; set to :const:`None` to draw on all</span>
<span class="sd">          frames.</span>
<span class="sd">        - ``blend_mode`` -- The blend mode to use.  Possible blend modes</span>
<span class="sd">          are:</span>

<span class="sd">          - :data:`sge.BLEND_NORMAL`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MAXIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MAXIMUM`</span>

<span class="sd">          :const:`None` is treated as :data:`sge.BLEND_NORMAL`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">fill</span><span class="p">)</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">outline</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">radius</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">radius</span><span class="p">))</span>
        <span class="n">outline_thickness</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">outline_thickness</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline_thickness</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">outline</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">outline</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># There&#39;s no point in trying in this case.</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pg_fill</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">fill</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pg_outl</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">outline</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="n">pygame_flags</span> <span class="o">=</span> <span class="n">_get_blend_flags</span><span class="p">(</span><span class="n">blend_mode</span><span class="p">)</span>

        <span class="n">stamp</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">stamp</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_fill</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">radius</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_outl</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">radius</span><span class="p">,</span>
                               <span class="n">outline_thickness</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">dsurf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dsurf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span> <span class="n">pygame_flags</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_polygon"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_polygon">[docs]</a>    <span class="k">def</span> <span class="nf">draw_polygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                     <span class="n">outline_thickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">anti_alias</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                     <span class="n">blend_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw a polygon on the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``points`` -- A list of points relative to the sprite to</span>
<span class="sd">          position each of the polygon&#39;s angles.  Each point should be a</span>
<span class="sd">          tuple in the form ``(x, y)``, where x is the horizontal</span>
<span class="sd">          location and y is the vertical location.</span>
<span class="sd">        - ``fill`` -- A :class:`sge.gfx.Color` object representing the</span>
<span class="sd">          color of the fill of the polygon.</span>
<span class="sd">        - ``outline`` -- A :class:`sge.gfx.Color` object representing</span>
<span class="sd">          the color of the outline of the polygon.</span>
<span class="sd">        - ``outline_thickness`` -- The thickness of the outline of the</span>
<span class="sd">          polygon.</span>
<span class="sd">        - ``anti_alias`` -- Whether or not anti-aliasing should be used.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to draw on, where ``0``</span>
<span class="sd">          is the first frame; set to :const:`None` to draw on all</span>
<span class="sd">          frames.</span>
<span class="sd">        - ``blend_mode`` -- The blend mode to use.  Possible blend modes</span>
<span class="sd">          are:</span>

<span class="sd">          - :data:`sge.BLEND_NORMAL`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MAXIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MAXIMUM`</span>

<span class="sd">          :const:`None` is treated as :data:`sge.BLEND_NORMAL`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">fill</span><span class="p">)</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">outline</span><span class="p">)</span>

        <span class="n">points</span> <span class="o">=</span> <span class="p">[(</span><span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">)))</span> <span class="k">for</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="n">points</span><span class="p">]</span>
        <span class="n">outline_thickness</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">outline_thickness</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline_thickness</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">outline</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">outline</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># There&#39;s no point in trying in this case.</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pg_fill</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">fill</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pg_outl</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">outline</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="n">pygame_flags</span> <span class="o">=</span> <span class="n">_get_blend_flags</span><span class="p">(</span><span class="n">blend_mode</span><span class="p">)</span>

        <span class="n">stamp</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">stamp</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">fill</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_fill</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">outline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">anti_alias</span> <span class="ow">and</span> <span class="n">outline_thickness</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">aalines</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_outl</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="n">pg_outl</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span>
                                    <span class="n">outline_thickness</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">dsurf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">stamp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dsurf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">stamp</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span> <span class="n">pygame_flags</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_sprite"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_sprite">[docs]</a>    <span class="k">def</span> <span class="nf">draw_sprite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sprite</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">blend_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw another sprite on the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``sprite`` -- The :class:`sge.gfx.Sprite` or</span>
<span class="sd">          :class:`sge.gfx.TileGrid` object to draw with.</span>
<span class="sd">        - ``image`` -- The frame of ``sprite`` to draw with, where ``0``</span>
<span class="sd">          is the first frame.</span>
<span class="sd">        - ``x`` -- The horizontal location relative to ``self`` to</span>
<span class="sd">          position the origin of ``sprite``.</span>
<span class="sd">        - ``y`` -- The vertical location relative to ``self`` to</span>
<span class="sd">          position the origin of ``sprite``.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to draw on, where ``0``</span>
<span class="sd">          is the first frame; set to :const:`None` to draw on all</span>
<span class="sd">          frames.</span>
<span class="sd">        - ``blend_mode`` -- The blend mode to use.  Possible blend modes</span>
<span class="sd">          are:</span>

<span class="sd">          - :data:`sge.BLEND_NORMAL`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MAXIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MAXIMUM`</span>

<span class="sd">          :const:`None` is treated as :data:`sge.BLEND_NORMAL`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">sprite</span><span class="o">.</span><span class="n">origin_x</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">sprite</span><span class="o">.</span><span class="n">origin_y</span><span class="p">))</span>

        <span class="n">image</span> <span class="o">%=</span> <span class="n">sprite</span><span class="o">.</span><span class="n">frames</span>

        <span class="n">pygame_flags</span> <span class="o">=</span> <span class="n">_get_blend_flags</span><span class="p">(</span><span class="n">blend_mode</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">dsurf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sprite</span><span class="p">,</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">Sprite</span><span class="p">):</span>
                <span class="n">ssurf</span> <span class="o">=</span> <span class="n">s_set_transparency</span><span class="p">(</span><span class="n">sprite</span><span class="p">,</span>
                                           <span class="n">sprite</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">image</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SCREEN</span><span class="p">:</span>
                    <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">ssurf</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SCREEN</span><span class="p">:</span>
                    <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">ssurf</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dsurf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">ssurf</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span> <span class="n">pygame_flags</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sprite</span><span class="p">,</span> <span class="n">sge</span><span class="o">.</span><span class="n">gfx</span><span class="o">.</span><span class="n">TileGrid</span><span class="p">):</span>
                <span class="n">tg_blit</span><span class="p">(</span><span class="n">sprite</span><span class="p">,</span> <span class="n">dsurf</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_text"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_text">[docs]</a>    <span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">color</span><span class="o">=</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">),</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span>
                  <span class="n">anti_alias</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">blend_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw text on the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``font`` -- The font to use to draw the text.</span>
<span class="sd">        - ``text`` -- The text (as a string) to draw.</span>
<span class="sd">        - ``x`` -- The horizontal location relative to the sprite to</span>
<span class="sd">          draw the text.</span>
<span class="sd">        - ``y`` -- The vertical location relative to the sprite to draw</span>
<span class="sd">          the text.</span>
<span class="sd">        - ``width`` -- The width of the imaginary rectangle the text is</span>
<span class="sd">          drawn in; set to :const:`None` to make the rectangle as wide</span>
<span class="sd">          as needed to contain the text without additional line breaks.</span>
<span class="sd">          If set to something other than :const:`None`, a line which</span>
<span class="sd">          does not fit will be automatically split into multiple lines</span>
<span class="sd">          that do fit.</span>
<span class="sd">        - ``height`` -- The height of the imaginary rectangle the text</span>
<span class="sd">          is drawn in; set to :const:`None` to make the rectangle as</span>
<span class="sd">          tall as needed to contain the text.</span>
<span class="sd">        - ``color`` -- A :class:`sge.gfx.Color` object representing the</span>
<span class="sd">          color of the text.</span>
<span class="sd">        - ``halign`` -- The horizontal alignment of the text and the</span>
<span class="sd">          horizontal location of the origin of the imaginary rectangle</span>
<span class="sd">          the text is drawn in.  Can be set to one of the following:</span>

<span class="sd">          - ``&quot;left&quot;`` -- Align the text to the left of the imaginary</span>
<span class="sd">            rectangle the text is drawn in.  Set the origin of the</span>
<span class="sd">            imaginary rectangle to its left edge.</span>
<span class="sd">          - ``&quot;center&quot;`` -- Align the text to the center of the</span>
<span class="sd">            imaginary rectangle the text is drawn in.  Set the origin of</span>
<span class="sd">            the imaginary rectangle to its center.</span>
<span class="sd">          - ``&quot;right&quot;`` -- Align the text to the right of the imaginary</span>
<span class="sd">            rectangle the text is drawn in.  Set the origin of the</span>
<span class="sd">            imaginary rectangle to its right edge.</span>

<span class="sd">        - ``valign`` -- The vertical alignment of the text and the</span>
<span class="sd">          vertical location of the origin of the imaginary rectangle the</span>
<span class="sd">          text is drawn in.  Can be set to one of the following:</span>

<span class="sd">          - ``&quot;top&quot;`` -- Align the text to the top of the imaginary</span>
<span class="sd">            rectangle the text is drawn in.  Set the origin of the</span>
<span class="sd">            imaginary rectangle to its top edge.  If the imaginary</span>
<span class="sd">            rectangle is not tall enough to contain all of the text, cut</span>
<span class="sd">            text off from the bottom.</span>
<span class="sd">          - ``&quot;middle&quot;`` -- Align the the text to the middle of the</span>
<span class="sd">            imaginary rectangle the text is drawn in.  Set the origin of</span>
<span class="sd">            the imaginary rectangle to its middle.  If the imaginary</span>
<span class="sd">            rectangle is not tall enough to contain all of the text, cut</span>
<span class="sd">            text off equally from the top and bottom.</span>
<span class="sd">          - ``&quot;bottom&quot;`` -- Align the text  to the bottom of the</span>
<span class="sd">            imaginary rectangle the text is drawn in.  Set the origin of</span>
<span class="sd">            the imaginary rectangle to its top edge.  If the imaginary</span>
<span class="sd">            rectangle is not tall enough to contain all of the text, cut</span>
<span class="sd">            text off from the top.</span>

<span class="sd">        - ``anti_alias`` -- Whether or not anti-aliasing should be used.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to draw on, where ``0``</span>
<span class="sd">          is the first frame; set to :const:`None` to draw on all</span>
<span class="sd">          frames.</span>
<span class="sd">        - ``blend_mode`` -- The blend mode to use.  Possible blend modes</span>
<span class="sd">          are:</span>

<span class="sd">          - :data:`sge.BLEND_NORMAL`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MAXIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MAXIMUM`</span>

<span class="sd">          :const:`None` is treated as :data:`sge.BLEND_NORMAL`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>

        <span class="n">lines</span> <span class="o">=</span> <span class="n">f_split_text</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">font</span><span class="o">.</span><span class="n">get_width</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>
        <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">font</span><span class="o">.</span><span class="n">get_height</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>
        <span class="n">fake_height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">font</span><span class="o">.</span><span class="n">get_height</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">))</span>

        <span class="n">text_surf</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">fake_height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">box_surf</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">text_rect</span> <span class="o">=</span> <span class="n">text_surf</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
        <span class="n">box_rect</span> <span class="o">=</span> <span class="n">box_surf</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>

        <span class="n">pygame_flags</span> <span class="o">=</span> <span class="n">_get_blend_flags</span><span class="p">(</span><span class="n">blend_mode</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span>
            <span class="n">rendered_text</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">anti_alias</span><span class="p">,</span>
                                                   <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">color</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">color</span><span class="o">.</span><span class="n">alpha</span> <span class="o">&lt;</span> <span class="mi">255</span><span class="p">:</span>
                <span class="n">rendered_text</span> <span class="o">=</span> <span class="n">rendered_text</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
                <span class="n">rendered_text</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">color</span><span class="o">.</span><span class="n">alpha</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">pygame</span><span class="o">.</span><span class="n">BLEND_RGBA_SUB</span><span class="p">)</span>
            <span class="n">rect</span> <span class="o">=</span> <span class="n">rendered_text</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
            <span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="n">font</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_linesize</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">halign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;left&quot;</span><span class="p">:</span>
                <span class="n">rect</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">text_rect</span><span class="o">.</span><span class="n">left</span>
            <span class="k">elif</span> <span class="n">halign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span>
                <span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">text_rect</span><span class="o">.</span><span class="n">right</span>
            <span class="k">elif</span> <span class="n">halign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
                <span class="n">rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">=</span> <span class="n">text_rect</span><span class="o">.</span><span class="n">centerx</span>

            <span class="n">text_surf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">rendered_text</span><span class="p">,</span> <span class="n">rect</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">valign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;top&quot;</span><span class="p">:</span>
            <span class="n">text_rect</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">box_rect</span><span class="o">.</span><span class="n">top</span>
        <span class="k">elif</span> <span class="n">valign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;bottom&quot;</span><span class="p">:</span>
            <span class="n">text_rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">box_rect</span><span class="o">.</span><span class="n">bottom</span>
        <span class="k">elif</span> <span class="n">valign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;middle&quot;</span><span class="p">:</span>
            <span class="n">text_rect</span><span class="o">.</span><span class="n">centery</span> <span class="o">=</span> <span class="n">box_rect</span><span class="o">.</span><span class="n">centery</span>

        <span class="n">box_surf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text_surf</span><span class="p">,</span> <span class="n">text_rect</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">halign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;left&quot;</span><span class="p">:</span>
            <span class="n">box_rect</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">x</span>
        <span class="k">elif</span> <span class="n">halign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span>
            <span class="n">box_rect</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">x</span>
        <span class="k">elif</span> <span class="n">halign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
            <span class="n">box_rect</span><span class="o">.</span><span class="n">centerx</span> <span class="o">=</span> <span class="n">x</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">box_rect</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">x</span>

        <span class="k">if</span> <span class="n">valign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;top&quot;</span><span class="p">:</span>
            <span class="n">box_rect</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">y</span>
        <span class="k">elif</span> <span class="n">valign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;bottom&quot;</span><span class="p">:</span>
            <span class="n">box_rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="n">y</span>
        <span class="k">elif</span> <span class="n">valign</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;middle&quot;</span><span class="p">:</span>
            <span class="n">box_rect</span><span class="o">.</span><span class="n">centery</span> <span class="o">=</span> <span class="n">y</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">box_rect</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">y</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">dsurf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">box_surf</span><span class="p">,</span> <span class="n">box_rect</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">box_rect</span><span class="o">.</span><span class="n">top</span><span class="p">,</span>
                              <span class="bp">False</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">blend_mode</span> <span class="o">==</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SCREEN</span><span class="p">:</span>
                <span class="n">_screen_blend</span><span class="p">(</span><span class="n">dsurf</span><span class="p">,</span> <span class="n">box_surf</span><span class="p">,</span> <span class="n">box_rect</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">box_rect</span><span class="o">.</span><span class="n">top</span><span class="p">,</span>
                              <span class="bp">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dsurf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">box_surf</span><span class="p">,</span> <span class="n">box_rect</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">pygame_flags</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_erase"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_erase">[docs]</a>    <span class="k">def</span> <span class="nf">draw_erase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Erase part of the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``x`` -- The horizontal location relative to the sprite of the</span>
<span class="sd">          area to erase.</span>
<span class="sd">        - ``y`` -- The vertical location relative to the sprite of the</span>
<span class="sd">          area to erase.</span>
<span class="sd">        - ``width`` -- The width of the area to erase.</span>
<span class="sd">        - ``height`` -- The height of the area to erase.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to erase from, where</span>
<span class="sd">          ``0`` is the first frame; set to :const:`None` to erase from</span>
<span class="sd">          all frames.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get_flags</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">:</span>
                <span class="n">color</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get_colorkey</span><span class="p">()</span>

            <span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">rect</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_clear"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_clear">[docs]</a>    <span class="k">def</span> <span class="nf">draw_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Erase everything from the sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``frame`` -- The frame of the sprite to clear, where ``0`` is</span>
<span class="sd">          the first frame; set to :const:`None` to clear all frames.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_erase</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.draw_lock"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_lock">[docs]</a>    <span class="k">def</span> <span class="nf">draw_lock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lock the sprite for continuous drawing.</span>

<span class="sd">        Use this method to &quot;lock&quot; the sprite for being drawn on several</span>
<span class="sd">        times in a row.  What exactly this does depends on the</span>
<span class="sd">        implementation and it may even do nothing at all, but calling</span>
<span class="sd">        this method before doing several draw actions on the sprite in a</span>
<span class="sd">        row gives the SGE a chance to make the drawing more efficient.</span>

<span class="sd">        After you are done with continuous drawing, call</span>
<span class="sd">        :meth:`draw_unlock` to let the SGE know that you are done</span>
<span class="sd">        drawing.</span>

<span class="sd">        .. warning::</span>

<span class="sd">           Do not cause a sprite to be used while it&#39;s locked.  For</span>
<span class="sd">           example, don&#39;t leave it locked for the duration of a frame,</span>
<span class="sd">           and don&#39;t draw it or project it on anything.  The effect of</span>
<span class="sd">           using a locked sprite could be as minor as graphical errors</span>
<span class="sd">           and as severe as crashing the program, depending on the SGE</span>
<span class="sd">           implementation.  Always call :meth:`draw_unlock` immediately</span>
<span class="sd">           after you&#39;re done drawing for a while.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;locked&quot;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;locked&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span></div>

<div class="viewcode-block" id="Sprite.draw_unlock"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.draw_unlock">[docs]</a>    <span class="k">def</span> <span class="nf">draw_unlock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unlock the sprite.</span>

<span class="sd">        Use this method to &quot;unlock&quot; the sprite after it has been</span>
<span class="sd">        &quot;locked&quot; for continuous drawing by :meth:`draw_lock`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;locked&quot;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;locked&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.mirror"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.mirror">[docs]</a>    <span class="k">def</span> <span class="nf">mirror</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Mirror the sprite horizontally.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``frame`` -- The frame of the sprite to mirror, where ``0`` is</span>
<span class="sd">          the first frame; set to :const:`None` to mirror all frames.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.flip"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.flip">[docs]</a>    <span class="k">def</span> <span class="nf">flip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Flip the sprite vertically.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``frame`` -- The frame of the sprite to flip, where ``0`` is</span>
<span class="sd">          the first frame; set to :const:`None` to flip all frames.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.resize_canvas"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.resize_canvas">[docs]</a>    <span class="k">def</span> <span class="nf">resize_canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resize the sprite by adding empty space instead of scaling.</span>

<span class="sd">        After resizing the canvas:</span>

<span class="sd">        1. The horizontal location of the origin is multiplied by the</span>
<span class="sd">           new width divided by the old width.</span>
<span class="sd">        2. The vertical location of the origin is multiplied by the new</span>
<span class="sd">           height divided by the old height.</span>
<span class="sd">        3. All frames are repositioned within the sprite such that their</span>
<span class="sd">           position relative to the origin is the same as before.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``width`` -- The width to set the sprite to.</span>
<span class="sd">        - ``height`` -- The height to set the sprite to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xscale</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>
        <span class="n">yscale</span> <span class="o">=</span> <span class="n">height</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
        <span class="n">xdiff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">*</span> <span class="n">xscale</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span>
        <span class="n">ydiff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">*</span> <span class="n">yscale</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">):</span>
            <span class="n">new_surf</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
            <span class="n">new_surf</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="n">new_surf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">xdiff</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">ydiff</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_surf</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__w</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__h</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">*=</span> <span class="n">xscale</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">*=</span> <span class="n">yscale</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.scale"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.scale">[docs]</a>    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xscale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">yscale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scale the sprite to a different size.</span>

<span class="sd">        Unlike changing :attr:`width` and :attr:`height`, this function</span>
<span class="sd">        does not result in the actual size of the sprite changing.</span>
<span class="sd">        Instead, any scaled frames are repositioned so that the pixel</span>
<span class="sd">        which was at the origin before scaling remains at the origin.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``xscale`` -- The horizontal scale factor.</span>
<span class="sd">        - ``yscale`` -- The vertical scale factor.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to rotate, where ``0`` is</span>
<span class="sd">          the first frame; set to :const:`None` to rotate all frames.</span>

<span class="sd">        .. note::</span>

<span class="sd">           This is a destructive transformation: it can result in loss</span>
<span class="sd">           of pixel information, especially if it is done repeatedly.</span>
<span class="sd">           Because of this, it is advised that you do not adjust this</span>
<span class="sd">           value for routine scaling.  Use the :attr:`image_xscale` and</span>
<span class="sd">           :attr:`image_yscale` attributes of a :class:`sge.dsp.Object`</span>
<span class="sd">           object instead.</span>

<span class="sd">        .. note::</span>

<span class="sd">           Because this function does not alter the actual size of the</span>
<span class="sd">           sprite, scaling up may result in some parts of the image</span>
<span class="sd">           being cropped off.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xscale</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">xscale</span><span class="p">)</span>
        <span class="n">yscale</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">yscale</span><span class="p">)</span>
        <span class="n">scale_w</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">xscale</span><span class="p">))</span>
        <span class="n">scale_h</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span> <span class="n">yscale</span><span class="p">))</span>
        <span class="n">xdiff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">*</span> <span class="n">xscale</span>
        <span class="n">ydiff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">*</span> <span class="n">yscale</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">new_surf</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span>
                                      <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
            <span class="n">new_surf</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="n">surf</span> <span class="o">=</span> <span class="n">_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">scale_w</span><span class="p">,</span> <span class="n">scale_h</span><span class="p">)</span>
            <span class="n">new_surf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">surf</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">xdiff</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">ydiff</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_surf</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.rotate"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.rotate">[docs]</a>    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">adaptive_resize</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rotate the sprite about the center.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``x`` -- The rotation amount in degrees, with rotation in a</span>
<span class="sd">          positive direction being clockwise.</span>
<span class="sd">        - ``adaptive_resize`` -- Whether or not the sprite should be</span>
<span class="sd">          resized to accomodate rotation.  If this is :const:`True`,</span>
<span class="sd">          rotation amounts other than multiples of 180 will result in</span>
<span class="sd">          the size of the sprite being adapted to fit the whole rotated</span>
<span class="sd">          image.  The origin and any frames which have not been rotated</span>
<span class="sd">          will also be moved so that their location relative to the</span>
<span class="sd">          rotated image(s) is the same.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to rotate, where ``0`` is</span>
<span class="sd">          the first frame; set to :const:`None` to rotate all frames.</span>

<span class="sd">        .. note::</span>

<span class="sd">           This is a destructive transformation: it can result in loss</span>
<span class="sd">           of pixel information, especially if it is done repeatedly.</span>
<span class="sd">           Because of this, it is advised that you do not adjust this</span>
<span class="sd">           value for routine rotation.  Use the :attr:`image_rotation`</span>
<span class="sd">           attribute of a :class:`sge.dsp.Object` object instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>
        <span class="n">new_h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="o">-</span><span class="n">x</span><span class="p">)</span>
            <span class="n">new_w</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
            <span class="n">new_h</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">adaptive_resize</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">img</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">new_w</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__w</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
                <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">new_h</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__h</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">)))</span>

        <span class="k">if</span> <span class="n">adaptive_resize</span><span class="p">:</span>
            <span class="n">xdiff</span> <span class="o">=</span> <span class="p">(</span><span class="n">new_w</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__w</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">ydiff</span> <span class="o">=</span> <span class="p">(</span><span class="n">new_h</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__h</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">+=</span> <span class="n">xdiff</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">+=</span> <span class="n">ydiff</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__w</span> <span class="o">=</span> <span class="n">new_w</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__h</span> <span class="o">=</span> <span class="n">new_h</span>

            <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="c1"># Need to go back and correct the positions of frames</span>
                <span class="c1"># that weren&#39;t rotated.</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">!=</span> <span class="n">i</span><span class="p">:</span>
                        <span class="n">surf</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">new_w</span><span class="p">,</span> <span class="n">new_h</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
                        <span class="n">surf</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
                        <span class="n">surf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span>
                                  <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">xdiff</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">ydiff</span><span class="p">)))</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">surf</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.swap_color"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.swap_color">[docs]</a>    <span class="k">def</span> <span class="nf">swap_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_color</span><span class="p">,</span> <span class="n">new_color</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change all pixels of one color to another color.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``old_color`` -- A :class:`sge.gfx.Color` object indicating</span>
<span class="sd">          the color of pixels to change.</span>
<span class="sd">        - ``new_color`` -- A :class:`sge.gfx.Color` object indicating</span>
<span class="sd">          the color to change the pixels to.</span>
<span class="sd">        - ``frame`` -- The frame of the sprite to modify, where ``0`` is</span>
<span class="sd">          the first frame; set to :const:`None` to modify all frames.</span>

<span class="sd">        .. note::</span>

<span class="sd">           While this method can be used on any image, it is likely to</span>
<span class="sd">           be most efficient when used on images based on palettes</span>
<span class="sd">           (such as 8-bit images).  The SGE cannot implicitly convert</span>
<span class="sd">           high bit depth images to low bit depths, so if you plan on</span>
<span class="sd">           using this method frequently, you should ensure that you</span>
<span class="sd">           save your images in a low bit depth.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">old_color</span><span class="p">)</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">new_color</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">old_color</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">new_color</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rng</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">]</span>

        <span class="n">pg_new_color</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="o">*</span><span class="n">new_color</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rng</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">palette</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_palette</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">pygame</span><span class="o">.</span><span class="n">error</span><span class="p">:</span>
                <span class="n">img</span><span class="o">.</span><span class="n">lock</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">get_height</span><span class="p">()):</span>
                    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">get_width</span><span class="p">()):</span>
                        <span class="k">if</span> <span class="n">old_color</span> <span class="o">==</span> <span class="n">Color</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">get_at</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)))):</span>
                            <span class="n">img</span><span class="o">.</span><span class="n">set_at</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">pg_new_color</span><span class="p">)</span>
                <span class="n">img</span><span class="o">.</span><span class="n">unlock</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">palette</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="n">old_color</span> <span class="o">==</span> <span class="n">Color</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">palette</span><span class="p">[</span><span class="n">j</span><span class="p">])):</span>
                        <span class="n">palette</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">pg_new_color</span>

                <span class="n">img</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="n">palette</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sprite.copy"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.copy">[docs]</a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a copy of the sprite.&quot;&quot;&quot;</span>
        <span class="n">new_copy</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                          <span class="n">transparent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">transparent</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span><span class="p">,</span>
                          <span class="n">origin_y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">,</span>
                          <span class="n">bbox_x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_x</span><span class="p">,</span> <span class="n">bbox_y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_y</span><span class="p">,</span>
                          <span class="n">bbox_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_width</span><span class="p">,</span>
                          <span class="n">bbox_height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_height</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">):</span>
            <span class="n">new_copy</span><span class="o">.</span><span class="n">append_frame</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">):</span>
            <span class="n">new_copy</span><span class="o">.</span><span class="n">draw_sprite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_copy</span></div>

<div class="viewcode-block" id="Sprite.save"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the sprite to an image file.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``fname`` -- The path of the file to save the sprite to.  If</span>
<span class="sd">          it is not a path that can be saved to, :exc:`OSError` is</span>
<span class="sd">          raised.</span>

<span class="sd">        If the sprite has multiple frames, the image file saved will be</span>
<span class="sd">        a horizontal reel of each of the frames from left to right with</span>
<span class="sd">        no space in between the frames.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Assuming self.width and self.height are the size of all</span>
        <span class="c1"># surfaces in _baseimages (this should be the case).</span>
        <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames</span>
        <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
        <span class="n">reel</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">reel</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frames</span><span class="p">):</span>
            <span class="n">reel</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">i</span><span class="p">),</span> <span class="mi">0</span><span class="p">))</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">reel</span><span class="p">,</span> <span class="n">fname</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">pygame</span><span class="o">.</span><span class="n">error</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="s1">&#39;Couldn</span><span class="se">\&#39;</span><span class="s1">t save to &quot;{}&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">fname</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">m</span><span class="p">)</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Sprite.from_tween"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.from_tween">[docs]</a>    <span class="k">def</span> <span class="nf">from_tween</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">sprite</span><span class="p">,</span> <span class="n">frames</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">xscale</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">yscale</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                   <span class="n">rotation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">blend</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                   <span class="n">bbox_width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_height</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">blend_mode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a sprite based on tweening an existing sprite.</span>

<span class="sd">        &quot;Tweening&quot; refers to creating an animation from gradual</span>
<span class="sd">        transformations to an image.  For example, this can be used to</span>
<span class="sd">        generate an animation of an object growing to a particular size.</span>
<span class="sd">        The animation generated is called a &quot;tween&quot;.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``sprite`` -- The sprite to base the tween on.  If the sprite</span>
<span class="sd">          includes multiple frames, all frames will be used in sequence</span>
<span class="sd">          until the end of the tween.</span>

<span class="sd">          The tween&#39;s origin is derived from this sprite&#39;s origin,</span>
<span class="sd">          adjusted appropriately to accomodate any size changes made.</span>
<span class="sd">          Whether or not the tween is transparent is also determined by</span>
<span class="sd">          whether or not this sprite is transparent.</span>
<span class="sd">        - ``frames`` -- The number of frames the to make the tween take</span>
<span class="sd">          up.</span>
<span class="sd">        - ``fps`` -- The suggested rate of animation for the tween in</span>
<span class="sd">          frames per second.  If set to :const:`None`, the suggested</span>
<span class="sd">          animation rate of the base sprite is used.</span>
<span class="sd">        - ``xscale`` -- The horizontal scale factor at the end of the</span>
<span class="sd">          tween.  If set to :const:`None`, horizontal scaling will not</span>
<span class="sd">          be included in the tweening process.</span>
<span class="sd">        - ``yscale`` -- The vertical scale factor at the end of the</span>
<span class="sd">          tween.  If set to :const:`None`, vertical scaling will not be</span>
<span class="sd">          included in the tweening process.</span>
<span class="sd">        - ``rotation`` -- The total clockwise rotation amount in degrees</span>
<span class="sd">          at the end of the tween.  Can be negative to indicate</span>
<span class="sd">          counter-clockwise rotation instead.  If set to :const:`None`,</span>
<span class="sd">          rotation will not be included in the tweening process.</span>
<span class="sd">        - ``blend`` -- A :class:`sge.gfx.Color` object representing the</span>
<span class="sd">          color to blend with the sprite at the end of the tween.  If</span>
<span class="sd">          set to :const:`None`, color blending will not be included in</span>
<span class="sd">          the tweening process.</span>
<span class="sd">        - ``blend_mode`` -- The blend mode to use with ``blend``.</span>
<span class="sd">          Possible blend modes are:</span>

<span class="sd">          - :data:`sge.BLEND_NORMAL`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGBA_MAXIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_ADD`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SUBTRACT`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MULTIPLY`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_SCREEN`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MINIMUM`</span>
<span class="sd">          - :data:`sge.BLEND_RGB_MAXIMUM`</span>

<span class="sd">          :const:`None` is treated as :data:`sge.BLEND_RGBA_MULTIPLY`.</span>

<span class="sd">        All other arguments set the respective initial attributes of the</span>
<span class="sd">        tween.  See the documentation for :class:`sge.gfx.Sprite` for</span>
<span class="sd">        more information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">fps</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">fps</span> <span class="o">=</span> <span class="n">sprite</span><span class="o">.</span><span class="n">fps</span>

        <span class="k">if</span> <span class="n">blend_mode</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">blend_mode</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_MULTIPLY</span>

        <span class="n">new_w</span> <span class="o">=</span> <span class="n">sprite</span><span class="o">.</span><span class="n">width</span>
        <span class="n">new_h</span> <span class="o">=</span> <span class="n">sprite</span><span class="o">.</span><span class="n">height</span>
        <span class="n">new_origin_x</span> <span class="o">=</span> <span class="n">sprite</span><span class="o">.</span><span class="n">origin_x</span>
        <span class="n">new_origin_y</span> <span class="o">=</span> <span class="n">sprite</span><span class="o">.</span><span class="n">origin_y</span>

        <span class="k">if</span> <span class="n">xscale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">xscale</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">new_w</span> <span class="o">*=</span> <span class="n">xscale</span>
            <span class="n">new_origin_x</span> <span class="o">*=</span> <span class="n">xscale</span>
        <span class="k">if</span> <span class="n">yscale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">yscale</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">new_h</span> <span class="o">*=</span> <span class="n">yscale</span>
            <span class="n">new_origin_y</span> <span class="o">*=</span> <span class="n">yscale</span>
        <span class="k">if</span> <span class="n">rotation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">new_w</span><span class="p">,</span> <span class="n">new_h</span><span class="p">)</span>
            <span class="n">new_origin_x</span> <span class="o">+=</span> <span class="p">(</span><span class="n">h</span> <span class="o">-</span> <span class="n">new_w</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">new_origin_y</span> <span class="o">+=</span> <span class="p">(</span><span class="n">h</span> <span class="o">-</span> <span class="n">new_h</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">new_w</span> <span class="o">=</span> <span class="n">h</span>
            <span class="n">new_h</span> <span class="o">=</span> <span class="n">h</span>

        <span class="n">tween_spr</span> <span class="o">=</span> <span class="n">cls</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">new_w</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">new_h</span><span class="p">,</span>
                        <span class="n">transparent</span><span class="o">=</span><span class="n">sprite</span><span class="o">.</span><span class="n">transparent</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="n">new_origin_x</span><span class="p">,</span>
                        <span class="n">origin_y</span><span class="o">=</span><span class="n">new_origin_y</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="n">fps</span><span class="p">,</span> <span class="n">bbox_x</span><span class="o">=</span><span class="n">bbox_x</span><span class="p">,</span>
                        <span class="n">bbox_y</span><span class="o">=</span><span class="n">bbox_y</span><span class="p">,</span> <span class="n">bbox_width</span><span class="o">=</span><span class="n">bbox_width</span><span class="p">,</span>
                        <span class="n">bbox_height</span><span class="o">=</span><span class="n">bbox_height</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">tween_spr</span><span class="o">.</span><span class="n">frames</span> <span class="o">&lt;</span> <span class="n">frames</span><span class="p">:</span>
            <span class="n">tween_spr</span><span class="o">.</span><span class="n">append_frame</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="n">frames</span><span class="p">):</span>
            <span class="n">tween_spr</span><span class="o">.</span><span class="n">draw_sprite</span><span class="p">(</span><span class="n">sprite</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">new_origin_x</span><span class="p">,</span> <span class="n">new_origin_y</span><span class="p">,</span>
                                  <span class="n">frame</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>

            <span class="n">progress</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="p">(</span><span class="n">frames</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">xscale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">yscale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">xscale</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">xscale</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">xs</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xs</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">xscale</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">progress</span>

                <span class="k">if</span> <span class="n">yscale</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">yscale</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">ys</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ys</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">yscale</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">progress</span>

                <span class="n">tween_spr</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">rotation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">tween_spr</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">rotation</span> <span class="o">*</span> <span class="n">progress</span><span class="p">,</span> <span class="n">adaptive_resize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                                 <span class="n">frame</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">blend</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">blender</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">tween_spr</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">tween_spr</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">blend_mode</span> <span class="ow">in</span> <span class="p">{</span><span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_MULTIPLY</span><span class="p">,</span>
                                  <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_MINIMUM</span><span class="p">,</span>
                                  <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_MULTIPLY</span><span class="p">,</span>
                                  <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_MINIMUM</span><span class="p">}:</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">255</span> <span class="o">-</span> <span class="p">(</span><span class="mi">255</span> <span class="o">-</span> <span class="n">blend</span><span class="o">.</span><span class="n">red</span><span class="p">)</span> <span class="o">*</span> <span class="n">progress</span><span class="p">)</span>
                    <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">255</span> <span class="o">-</span> <span class="p">(</span><span class="mi">255</span> <span class="o">-</span> <span class="n">blend</span><span class="o">.</span><span class="n">green</span><span class="p">)</span> <span class="o">*</span> <span class="n">progress</span><span class="p">)</span>
                    <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">255</span> <span class="o">-</span> <span class="p">(</span><span class="mi">255</span> <span class="o">-</span> <span class="n">blend</span><span class="o">.</span><span class="n">blue</span><span class="p">)</span> <span class="o">*</span> <span class="n">progress</span><span class="p">)</span>
                    <span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">255</span> <span class="o">-</span> <span class="p">(</span><span class="mi">255</span> <span class="o">-</span> <span class="n">blend</span><span class="o">.</span><span class="n">alpha</span><span class="p">)</span> <span class="o">*</span> <span class="n">progress</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">blend_mode</span> <span class="ow">in</span> <span class="p">{</span><span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_ADD</span><span class="p">,</span>
                                    <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SUBTRACT</span><span class="p">,</span>
                                    <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_SCREEN</span><span class="p">,</span>
                                    <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGBA_MAXIMUM</span><span class="p">,</span>
                                    <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_ADD</span><span class="p">,</span>
                                    <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SUBTRACT</span><span class="p">,</span>
                                    <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_SCREEN</span><span class="p">,</span>
                                    <span class="n">sge</span><span class="o">.</span><span class="n">BLEND_RGB_MAXIMUM</span><span class="p">}:</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">red</span> <span class="o">*</span> <span class="n">progress</span><span class="p">)</span>
                    <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">green</span> <span class="o">*</span> <span class="n">progress</span><span class="p">)</span>
                    <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">blue</span> <span class="o">*</span> <span class="n">progress</span><span class="p">)</span>
                    <span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">alpha</span> <span class="o">*</span> <span class="n">progress</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">r</span> <span class="o">=</span> <span class="n">blend</span><span class="o">.</span><span class="n">red</span>
                    <span class="n">g</span> <span class="o">=</span> <span class="n">blend</span><span class="o">.</span><span class="n">green</span>
                    <span class="n">b</span> <span class="o">=</span> <span class="n">blend</span><span class="o">.</span><span class="n">blue</span>
                    <span class="n">a</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">blend</span><span class="o">.</span><span class="n">alpha</span> <span class="o">*</span> <span class="n">progress</span><span class="p">)</span>

                <span class="n">color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">((</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>
                <span class="n">blender</span><span class="o">.</span><span class="n">draw_rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">blender</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">blender</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                                       <span class="n">fill</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
                <span class="n">tween_spr</span><span class="o">.</span><span class="n">draw_sprite</span><span class="p">(</span><span class="n">blender</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                                      <span class="n">blend_mode</span><span class="o">=</span><span class="n">blend_mode</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">tween_spr</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Sprite.from_text"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.from_text">[docs]</a>    <span class="k">def</span> <span class="nf">from_text</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                  <span class="n">color</span><span class="o">=</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">),</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">valign</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span>
                  <span class="n">anti_alias</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a sprite, draw the given text on it, and return the</span>
<span class="sd">        sprite.  See the documentation for</span>
<span class="sd">        :meth:`sge.gfx.Sprite.draw_text` for more information.</span>

<span class="sd">        The sprite&#39;s origin is set based on ``halign`` and ``valign``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">s_from_text</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">halign</span><span class="p">,</span>
                           <span class="n">valign</span><span class="p">,</span> <span class="n">anti_alias</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Sprite.from_tileset"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.from_tileset">[docs]</a>    <span class="k">def</span> <span class="nf">from_tileset</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">fname</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">xsep</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ysep</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">origin_y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">transparent</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">bbox_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                     <span class="n">bbox_width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_height</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a sprite based on the tiles in a tileset.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``fname`` -- The path to the image file containing the</span>
<span class="sd">          tileset.</span>
<span class="sd">        - ``x`` -- The horizontal location relative to the image of the</span>
<span class="sd">          top-leftmost tile in the tileset.</span>
<span class="sd">        - ``y`` -- The vertical location relative to the image of the</span>
<span class="sd">          top-leftmost tile in the tileset.</span>
<span class="sd">        - ``columns`` -- The number of columns in the tileset.</span>
<span class="sd">        - ``rows`` -- The number of rows in the tileset.</span>
<span class="sd">        - ``xsep`` -- The spacing between columns in the tileset.</span>
<span class="sd">        - ``ysep`` -- The spacing between rows in the tileset.</span>
<span class="sd">        - ``width`` -- The width of the tiles.</span>
<span class="sd">        - ``height`` -- The height of the tiles.</span>

<span class="sd">        For all other arguments, see the documentation for</span>
<span class="sd">        :meth:`Sprite.__init__`.</span>

<span class="sd">        Each tile in the tileset becomes a subimage of the returned</span>
<span class="sd">        sprite, ordered first from left to right and then from top to</span>
<span class="sd">        bottom.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span> <span class="o">=</span> <span class="n">cls</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="n">origin_x</span><span class="p">,</span>
                   <span class="n">origin_y</span><span class="o">=</span><span class="n">origin_y</span><span class="p">,</span> <span class="n">transparent</span><span class="o">=</span><span class="n">transparent</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="n">fps</span><span class="p">,</span>
                   <span class="n">bbox_x</span><span class="o">=</span><span class="n">bbox_x</span><span class="p">,</span> <span class="n">bbox_y</span><span class="o">=</span><span class="n">bbox_y</span><span class="p">,</span> <span class="n">bbox_width</span><span class="o">=</span><span class="n">bbox_width</span><span class="p">,</span>
                   <span class="n">bbox_height</span><span class="o">=</span><span class="n">bbox_height</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">tileset</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">pygame</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">rows</span> <span class="o">*</span> <span class="n">columns</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">append_frame</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="n">columns</span><span class="p">):</span>
                <span class="n">frame</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="n">columns</span> <span class="o">+</span> <span class="n">j</span>
                <span class="n">x_</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">width</span> <span class="o">+</span> <span class="n">xsep</span><span class="p">)</span> <span class="o">*</span> <span class="n">j</span>
                <span class="n">y_</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">height</span> <span class="o">+</span> <span class="n">ysep</span><span class="p">)</span> <span class="o">*</span> <span class="n">i</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="n">frame</span><span class="p">]</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span>
                    <span class="n">s_set_transparency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tileset</span><span class="p">),</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="n">x_</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="n">y_</span><span class="p">)))</span>

        <span class="n">s_refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Sprite.from_screenshot"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Sprite.from_screenshot">[docs]</a>    <span class="k">def</span> <span class="nf">from_screenshot</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the current display on the screen as a sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``x`` -- The horizontal location of the rectangular area to</span>
<span class="sd">          take a screenshot of.</span>
<span class="sd">        - ``y`` -- The vertical location of the rectangular area to take</span>
<span class="sd">          a screenshot of.</span>
<span class="sd">        - ``width`` -- The width of the area to take a screenshot of;</span>
<span class="sd">          set to None for all of the area to the right of ``x`` to be</span>
<span class="sd">          included.</span>
<span class="sd">        - ``height`` -- The height of the area to take a screenshot of;</span>
<span class="sd">          set to :const:`None` for all of the area below ``y`` to be</span>
<span class="sd">          included.</span>

<span class="sd">        If you only wish to save a screenshot (of the entire screen) to</span>
<span class="sd">        a file, the easiest way to do that is::</span>

<span class="sd">            sge.gfx.Sprite.from_screenshot().save(&quot;foo.png&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">width</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">width</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">x</span>
        <span class="k">if</span> <span class="n">height</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">height</span> <span class="o">=</span> <span class="n">sge</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">y</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">game_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">game_y</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">game_xscale</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span>
                <span class="n">r</span><span class="o">.</span><span class="n">game_yscale</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">display_surface</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">game_window</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">display_surface</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">game_display_surface</span>

        <span class="n">sprite</span> <span class="o">=</span> <span class="n">cls</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)</span>
        <span class="n">sprite</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;baseimages&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">display_surface</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="n">y</span><span class="p">)))</span>
        <span class="n">s_refresh</span><span class="p">(</span><span class="n">sprite</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sprite</span></div>

    <span class="k">def</span> <span class="nf">__copy__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>


<span class="k">class</span> <span class="nc">TileGrid</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class represents a grid of individual sprites.  This is useful</span>
<span class="sd">    for tiled bckgrounds; it is faster than making each tile as its own</span>
<span class="sd">    object and likely uses less RAM than drawing the tiles onto a single</span>
<span class="sd">    large sprite.</span>

<span class="sd">    This class is mostly compatible with :class:`sge.gfx.Sprite`, and</span>
<span class="sd">    where its use is permitted, it is used the same way.  However, an</span>
<span class="sd">    object of this class:</span>

<span class="sd">    - Cannot be drawn to.  Drawing methods exist for compatibility only,</span>
<span class="sd">      and have no effect.</span>

<span class="sd">    - Cannot be scaled, mirrored, flipped, rotated, or transformed in</span>
<span class="sd">      any way.  Attempting to do so will have no effect.</span>

<span class="sd">    - Cannot be colorized in any way, or have its transparency modified.</span>
<span class="sd">      Attempting to do so will have no effect.</span>

<span class="sd">    - Cannot be animated in any way.  Only the first frame of each</span>
<span class="sd">      individual sprite is considered.</span>

<span class="sd">    - Cannot be used as a basis for precise collision detection.</span>

<span class="sd">    .. attribute:: tiles</span>

<span class="sd">       A list of :class:`sge.gfx.Sprite` objects to use as tiles.  How</span>
<span class="sd">       exactly they are displayed is dependent on the values of</span>
<span class="sd">       :attr:`render_method` and :attr:`section_length`.  Use</span>
<span class="sd">       :const:`None` where no tile should be displayed.</span>

<span class="sd">    .. attribute:: render_method</span>

<span class="sd">       A string indicating how the tiles should be rendered.  Can be one</span>
<span class="sd">       of the following:</span>

<span class="sd">       - ``&quot;orthogonal&quot;`` -- Start in the top-left corner of the grid.</span>
<span class="sd">         Render each tile in a section to the right of the previous tile</span>
<span class="sd">         by :attr:`tile_width` pixels.  Render each section downward</span>
<span class="sd">         from the previous section by :attr:`tile_height` pixels.</span>

<span class="sd">       - ``&quot;isometric&quot;`` -- Start in the top-left corner of the grid.</span>
<span class="sd">         Render each tile in a section to the right of the previous tile</span>
<span class="sd">         by :attr:`tile_width` pixels.  Render each section downward</span>
<span class="sd">         from the previous section by ``tile_height / 2`` pixels.</span>
<span class="sd">         Assuming the first section has an index of ``0``, render each</span>
<span class="sd">         odd-numbered section to the right of the even-numbered sections</span>
<span class="sd">         by ``tile_width / 2`` pixels.</span>

<span class="sd">       If this is set to an invalid value or :const:`None`, it becomes</span>
<span class="sd">       ``&quot;orthogonal&quot;``.</span>

<span class="sd">       .. note::</span>

<span class="sd">          If two tiles overlap, the most recently rendered tile will</span>
<span class="sd">          be in front (closer to the viewer).</span>

<span class="sd">    .. attribute:: section_length</span>

<span class="sd">       The number of tiles in one section of tiles.  What constitutes a</span>
<span class="sd">       section is defined by the value of :attr:`render_method`.</span>

<span class="sd">    .. attribute:: tile_width</span>

<span class="sd">       The width of each tile.  What exactly this means is defined by</span>
<span class="sd">       the value of :attr:`render_method`.</span>

<span class="sd">       .. note::</span>

<span class="sd">          For reasons of efficiency, it is assumed that all sprites in</span>
<span class="sd">          :attr:`tiles` have a width exactly corresponding to the width</span>
<span class="sd">          specified here.  Attempting to use sprites which have</span>
<span class="sd">          different widths will not cause an error, but the visual</span>
<span class="sd">          result of this, particularly any portion of a sprite outside</span>
<span class="sd">          of its designated area, is undefined.</span>

<span class="sd">    .. attribute:: tile_width</span>

<span class="sd">       The height of each tile.  What exactly this means is defined by</span>
<span class="sd">       the value of :attr:`render_method`.</span>

<span class="sd">       .. note::</span>

<span class="sd">          For reasons of efficiency, it is assumed that all sprites in</span>
<span class="sd">          :attr:`tiles` have a height exactly corresponding to the</span>
<span class="sd">          height specified here.  Attempting to use sprites which have</span>
<span class="sd">          different widths will not cause an error, but the visual</span>
<span class="sd">          result of this, particularly any portion of a sprite outside</span>
<span class="sd">          of its designated area, is undefined.</span>

<span class="sd">    .. attribute:: width</span>

<span class="sd">       The total width of the tile grid in pixels.  Attempting to change</span>
<span class="sd">       this value has no effect and is only supported for compatibility</span>
<span class="sd">       with :class:`sge.gfx.Sprite`.</span>

<span class="sd">    .. attribute:: height</span>

<span class="sd">       The total height of the tile grid in pixels.  Attempting to</span>
<span class="sd">       change this value has no effect and is only supported for</span>
<span class="sd">       compatibility with :class:`sge.gfx.Sprite`.</span>

<span class="sd">    .. attribute:: origin_x</span>

<span class="sd">       The suggested horizontal location of the origin relative to the</span>
<span class="sd">       left edge of the grid.</span>

<span class="sd">    .. attribute:: origin_y</span>

<span class="sd">       The suggested vertical location of the origin relative to the top</span>
<span class="sd">       edge of the grid.</span>

<span class="sd">    .. attribute:: bbox_x</span>

<span class="sd">       The horizontal location relative to the grid of the suggested</span>
<span class="sd">       bounding box to use with it.  If set to :const:`None`, it will</span>
<span class="sd">       become equal to ``-origin_x`` (which is always the left edge of</span>
<span class="sd">       the grid).</span>

<span class="sd">    .. attribute:: bbox_y</span>

<span class="sd">       The vertical location relative to the grid of the suggested</span>
<span class="sd">       bounding box to use with it.  If set to :const:`None`, it will</span>
<span class="sd">       become equal to ``-origin_y`` (which is always the top edge of</span>
<span class="sd">       the grid).</span>

<span class="sd">    .. attribute:: bbox_width</span>

<span class="sd">       The width of the suggested bounding box.  If set to</span>
<span class="sd">       :const:`None`, it will become equal to ``width - bbox_x``</span>
<span class="sd">       (which is always everything on the grid to the right of</span>
<span class="sd">       :attr:`bbox_x`).</span>

<span class="sd">    .. attribute:: bbox_height</span>

<span class="sd">       The height of the suggested bounding box.  If set to</span>
<span class="sd">       :const:`None`, it will become equal to ``height - bbox_y``</span>
<span class="sd">       (which is always everything on the grid below :attr:`bbox_y`).</span>

<span class="sd">    .. attribute:: transparent</span>

<span class="sd">       Defined as :const:`True`.  Provided for compatibility with</span>
<span class="sd">       :class:`sge.gfx.Sprite`.</span>

<span class="sd">    .. attribute:: fps</span>

<span class="sd">       Defined as ``0``.  Provided for compatibility with</span>
<span class="sd">       :class:`sge.gfx.Sprite`.</span>

<span class="sd">    .. attribute:: speed</span>

<span class="sd">       Defined as ``0``.  Provided for compatibility with</span>
<span class="sd">       :class:`sge.gfx.Sprite`.</span>

<span class="sd">    .. attribute:: name</span>

<span class="sd">       Defined as :const:`None`.  Provided for compatibility with</span>
<span class="sd">       :class:`sge.gfx.Sprite`.  (Read-only)</span>

<span class="sd">    .. attribute:: frames</span>

<span class="sd">       Defined as ``1``.  Provided for compatibility with</span>
<span class="sd">       :class:`sge.gfx.Sprite`.  (Read-only)</span>

<span class="sd">    .. attribute:: rd</span>

<span class="sd">       Reserved dictionary for internal use by the SGE.  (Read-only)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_method</span> <span class="o">==</span> <span class="s2">&quot;isometric&quot;</span><span class="p">:</span>
            <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tile_width</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">section_length</span> <span class="o">*</span> <span class="n">w</span> <span class="o">+</span> <span class="p">(</span><span class="n">w</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">section_length</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">tile_width</span>

    <span class="nd">@width.setter</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tiles</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">section_length</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_method</span> <span class="o">==</span> <span class="s2">&quot;isometric&quot;</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tile_height</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">section_length</span> <span class="o">*</span> <span class="n">h</span> <span class="o">+</span> <span class="n">h</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">rows</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">tile_height</span>

    <span class="nd">@height.setter</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bbox_x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_x</span>

    <span class="nd">@bbox_x.setter</span>
    <span class="k">def</span> <span class="nf">bbox_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_x</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_x</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bbox_y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_y</span>

    <span class="nd">@bbox_y.setter</span>
    <span class="k">def</span> <span class="nf">bbox_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_y</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_y</span> <span class="o">=</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bbox_width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_width</span>

    <span class="nd">@bbox_width.setter</span>
    <span class="k">def</span> <span class="nf">bbox_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_width</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_y</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bbox_height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_height</span>

    <span class="nd">@bbox_height.setter</span>
    <span class="k">def</span> <span class="nf">bbox_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_height</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__bbox_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">bbox_y</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">render_method</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">section_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                 <span class="n">tile_width</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">tile_height</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">origin_y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">bbox_x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bbox_height</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Arguments set the respective initial attributes of the grid.</span>
<span class="sd">        See the documentation for :class:`xsge.gfx.TileGrid` for more</span>
<span class="sd">        information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tiles</span> <span class="o">=</span> <span class="n">tiles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_method</span> <span class="o">=</span> <span class="n">render_method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">section_length</span> <span class="o">=</span> <span class="n">section_length</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tile_width</span> <span class="o">=</span> <span class="n">tile_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tile_height</span> <span class="o">=</span> <span class="n">tile_height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span> <span class="o">=</span> <span class="n">origin_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span> <span class="o">=</span> <span class="n">origin_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_x</span> <span class="o">=</span> <span class="n">bbox_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_y</span> <span class="o">=</span> <span class="n">bbox_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_width</span> <span class="o">=</span> <span class="n">bbox_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bbox_height</span> <span class="o">=</span> <span class="n">bbox_height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transparent</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a shallow copy of the grid.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tiles</span><span class="p">,</span> <span class="n">render_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">render_method</span><span class="p">,</span>
            <span class="n">section_length</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">section_length</span><span class="p">,</span> <span class="n">tile_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tile_width</span><span class="p">,</span>
            <span class="n">tile_height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tile_height</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span><span class="p">,</span>
            <span class="n">origin_y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">,</span> <span class="n">bbox_x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_x</span><span class="p">,</span>
            <span class="n">bbox_y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_y</span><span class="p">,</span> <span class="n">bbox_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_width</span><span class="p">,</span>
            <span class="n">bbox_height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_height</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a sprite with the grid rendered to it as a single image.</span>

<span class="sd">        For simplicity, the width of the resulting sprite is exactly</span>
<span class="sd">        :attr:`width`, and the height of the sprite is exactly</span>
<span class="sd">        :attr:`height`, even if this results in parts of some of the</span>
<span class="sd">        sprites being cut off from the resulting image.</span>

<span class="sd">        .. warning::</span>

<span class="sd">           If the grid is large, the returned sprite may use a large</span>
<span class="sd">           amount of RAM.  Keep this in mind if RAM availability is</span>
<span class="sd">           limited.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rendered_sprite</span> <span class="o">=</span> <span class="n">Sprite</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="n">tg_blit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rendered_sprite</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">s_refresh</span><span class="p">(</span><span class="n">rendered_sprite</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rendered_sprite</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Render the grid and then save it to an image file.</span>

<span class="sd">        Calling ``self.save(fname)`` is equivalent to::</span>

<span class="sd">            self.render().save(fname)</span>

<span class="sd">        See the documentation for :meth:`render` and</span>
<span class="sd">        :meth:`sge.gfx.Sprite.save` for more information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render</span><span class="p">()</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">append_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">insert_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">delete_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_rectangle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_ellipse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_circle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_polygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_sprite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_erase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_lock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">draw_unlock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">mirror</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">flip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Has no effect.  Provided for compatibility with</span>
<span class="sd">        :class:`sge.gfx.Sprite`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__copy__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="p">):</span>
        <span class="n">tiles_copy</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">tile</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tiles</span><span class="p">:</span>
            <span class="n">tiles_copy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tile</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">(</span>
            <span class="n">tiles_copy</span><span class="p">,</span> <span class="n">render_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">render_method</span><span class="p">,</span>
            <span class="n">section_length</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">section_length</span><span class="p">,</span> <span class="n">tile_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tile_width</span><span class="p">,</span>
            <span class="n">tile_height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tile_height</span><span class="p">,</span> <span class="n">origin_x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_x</span><span class="p">,</span>
            <span class="n">origin_y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">origin_y</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fps</span><span class="p">,</span> <span class="n">bbox_x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_x</span><span class="p">,</span>
            <span class="n">bbox_y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_y</span><span class="p">,</span> <span class="n">bbox_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_width</span><span class="p">,</span>
            <span class="n">bbox_height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bbox_height</span><span class="p">)</span>


<div class="viewcode-block" id="Font"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Font">[docs]</a><span class="k">class</span> <span class="nc">Font</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class stores a font for use by text drawing methods.</span>

<span class="sd">    Note that bold and italic rendering could be ugly.  It is better to</span>
<span class="sd">    choose a bold or italic font rather than enabling bold or italic</span>
<span class="sd">    rendering, if possible.</span>

<span class="sd">    .. attribute:: size</span>

<span class="sd">       The height of the font in pixels.</span>

<span class="sd">    .. attribute:: underline</span>

<span class="sd">       Whether or not underlined rendering is enabled.</span>

<span class="sd">    .. attribute:: bold</span>

<span class="sd">       Whether or not bold rendering is enabled.</span>

<span class="sd">       .. note::</span>

<span class="sd">          Using this option can be ugly.  It is better to choose a bold</span>
<span class="sd">          font rather than enabling bold rendering, if possible.</span>

<span class="sd">    .. attribute:: italic</span>

<span class="sd">       Whether or not italic rendering is enabled.</span>

<span class="sd">       .. note::</span>

<span class="sd">          Using this option can be ugly.  It is better to choose an</span>
<span class="sd">          italic font rather than enabling italic rendering, if</span>
<span class="sd">          possible.</span>

<span class="sd">    .. attribute:: name</span>

<span class="sd">       The name of the font as specified when it was created.</span>
<span class="sd">       (Read-only)</span>

<span class="sd">    .. attribute:: rd</span>

<span class="sd">       Reserved dictionary for internal use by the SGE.  (Read-only)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__size</span>

    <span class="nd">@size.setter</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;font&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># Preserve underline, bold, and italic settings.</span>
            <span class="n">underline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">underline</span>
            <span class="n">bold</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bold</span>
            <span class="n">italic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">italic</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">underline</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="n">bold</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="n">italic</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__size</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="n">names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">compatible_fonts</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;liberation serif&quot;</span><span class="p">,</span> <span class="s2">&quot;tinos&quot;</span><span class="p">,</span> <span class="s2">&quot;nimbus roman no9 l&quot;</span><span class="p">,</span> <span class="s2">&quot;nimbus roman&quot;</span><span class="p">,</span>
             <span class="s2">&quot;freeserif&quot;</span><span class="p">,</span> <span class="s2">&quot;dejavu serif&quot;</span><span class="p">,</span> <span class="s2">&quot;droid serif&quot;</span><span class="p">,</span> <span class="s2">&quot;bitstream charter&quot;</span><span class="p">,</span>
             <span class="s2">&quot;times new roman&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;droid sans&quot;</span><span class="p">,</span> <span class="s2">&quot;liberation sans&quot;</span><span class="p">,</span> <span class="s2">&quot;arimo&quot;</span><span class="p">,</span> <span class="s2">&quot;nimbus sans l&quot;</span><span class="p">,</span>
             <span class="s2">&quot;freesans&quot;</span><span class="p">,</span> <span class="s2">&quot;dejavu sans&quot;</span><span class="p">,</span> <span class="s2">&quot;droid sans fallback&quot;</span><span class="p">,</span> <span class="s2">&quot;arial&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;liberation sans narrow&quot;</span><span class="p">,</span> <span class="s2">&quot;freecondensed&quot;</span><span class="p">,</span>
             <span class="s2">&quot;sans condensed uralic&quot;</span><span class="p">,</span> <span class="s2">&quot;arial narrow&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;liberation mono&quot;</span><span class="p">,</span> <span class="s2">&quot;cousine&quot;</span><span class="p">,</span> <span class="s2">&quot;nimbus mono l&quot;</span><span class="p">,</span> <span class="s2">&quot;freemono&quot;</span><span class="p">,</span>
             <span class="s2">&quot;texgyrecursor&quot;</span><span class="p">,</span> <span class="s2">&quot;courier prime&quot;</span><span class="p">,</span> <span class="s2">&quot;dejavu sans mono&quot;</span><span class="p">,</span>
             <span class="s2">&quot;droid sans mono&quot;</span><span class="p">,</span> <span class="s2">&quot;courier new&quot;</span><span class="p">,</span> <span class="s2">&quot;courier&quot;</span><span class="p">]]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
                <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">fonts</span> <span class="ow">in</span> <span class="n">compatible_fonts</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">fonts</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">font</span> <span class="ow">in</span> <span class="n">fonts</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">font</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
                                <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
                        <span class="k">break</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="c1"># Most likely a non-iterable value, such as None, so we</span>
            <span class="c1"># assume the default font is to be used.</span>
            <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__size</span><span class="p">)</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;font&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">names</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">__size</span><span class="p">)</span>

        <span class="c1"># Restore underline, bold, and italic settings.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">underline</span> <span class="o">=</span> <span class="n">underline</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bold</span> <span class="o">=</span> <span class="n">bold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">italic</span> <span class="o">=</span> <span class="n">italic</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">underline</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_underline</span><span class="p">()</span>

    <span class="nd">@underline.setter</span>
    <span class="k">def</span> <span class="nf">underline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_underline</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bold</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_bold</span><span class="p">()</span>

    <span class="nd">@bold.setter</span>
    <span class="k">def</span> <span class="nf">bold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_bold</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">italic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_italic</span><span class="p">()</span>

    <span class="nd">@italic.setter</span>
    <span class="k">def</span> <span class="nf">italic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_italic</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

<div class="viewcode-block" id="Font.__init__"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Font.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">underline</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">italic</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Arguments:</span>

<span class="sd">        - ``name`` -- The name of the font.  Can be one of the</span>
<span class="sd">          following:</span>

<span class="sd">          - A string indicating the path to the font file.</span>
<span class="sd">          - A string indicating the case-insensitive name of a system</span>
<span class="sd">            font, e.g. ``&quot;Liberation Serif&quot;``.</span>
<span class="sd">          - A list or tuple of strings indicating either a font file or</span>
<span class="sd">            a system font to choose from in order of preference.</span>

<span class="sd">          If none of the above methods return a valid font, the SGE will</span>
<span class="sd">          choose the font.</span>

<span class="sd">        All other arguments set the respective initial attributes of the</span>
<span class="sd">        font.  See the documentation for :class:`sge.gfx.Font` for more</span>
<span class="sd">        information.</span>

<span class="sd">        .. note::</span>

<span class="sd">           It is generally not a good practice to rely on system fonts.</span>
<span class="sd">           There are no standard fonts; a font which you have on your</span>
<span class="sd">           system is probably not on everyone&#39;s system.  Rather than</span>
<span class="sd">           relying on system fonts, choose a font which is under a libre</span>
<span class="sd">           license (such as the GNU General Public License or the SIL</span>
<span class="sd">           Open Font License) and distribute it with your game; this</span>
<span class="sd">           will ensure that everyone sees text rendered the same way you</span>
<span class="sd">           do.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">underline</span> <span class="o">=</span> <span class="n">underline</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bold</span> <span class="o">=</span> <span class="n">bold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">italic</span> <span class="o">=</span> <span class="n">italic</span></div>

<div class="viewcode-block" id="Font.get_width"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Font.get_width">[docs]</a>    <span class="k">def</span> <span class="nf">get_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the width of a certain string of text when rendered.</span>

<span class="sd">        See the documentation for :meth:`sge.gfx.Sprite.draw_text` for</span>
<span class="sd">        more information.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f_split_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
        <span class="n">text_width</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">text_width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">text_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">line</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">text_width</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">text_width</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text_width</span></div>

<div class="viewcode-block" id="Font.get_height"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Font.get_height">[docs]</a>    <span class="k">def</span> <span class="nf">get_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the height of a certain string of text when rendered.</span>

<span class="sd">        See the documentation for :meth:`sge.gfx.Sprite.draw_text` for</span>
<span class="sd">        more information.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f_split_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">text_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get_linesize</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">text_height</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text_height</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">height</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">text_height</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">text_height</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text_height</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Font.from_sprite"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Font.from_sprite">[docs]</a>    <span class="k">def</span> <span class="nf">from_sprite</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">sprite</span><span class="p">,</span> <span class="n">chars</span><span class="p">,</span> <span class="n">hsep</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vsep</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
                    <span class="n">underline</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">italic</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a font derived from a sprite.</span>

<span class="sd">        Arguments:</span>

<span class="sd">        - ``sprite`` -- The :class:`sge.gfx.Sprite` object to derive the</span>
<span class="sd">          font from.</span>

<span class="sd">        - ``chars`` -- A dictionary mapping each supported text</span>
<span class="sd">          character to the corresponding frame of the sprite.  For</span>
<span class="sd">          example, ``{&#39;A&#39;: 0, &#39;B&#39;: 1, &#39;C&#39;: 2}`` would assign the letter</span>
<span class="sd">          &quot;A&#39; to the first frame, the letter &quot;B&quot; to the second frame,</span>
<span class="sd">          and the letter &quot;C&quot; to the third frame.</span>

<span class="sd">          Alternatively, this can be given as a list of characters to</span>
<span class="sd">          assign to the frames corresponding to the characters&#39; indexes</span>
<span class="sd">          within the list.  For example, ``[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]`` would</span>
<span class="sd">          assign the letter &quot;A&quot; to the first frame, the letter &quot;B&quot; to</span>
<span class="sd">          the second frame, and the letter &quot;C&quot; to the third frame.</span>

<span class="sd">          Any character not explicitly mapped to a frame will be</span>
<span class="sd">          rendered as its differently-cased counterpart if possible</span>
<span class="sd">          (e.g. &quot;A&quot; as &quot;a&quot;). Otherwise, it will be rendered using the</span>
<span class="sd">          frame mapped to :const:`None`.  If :const:`None` has not been</span>
<span class="sd">          explicitly mapped to a frame, it is implied to be a blank</span>
<span class="sd">          space.</span>

<span class="sd">        - ``hsep`` -- The amount of horizontal space to place between</span>
<span class="sd">          characters when text is rendered.</span>
<span class="sd">        - ``vsep`` -- The amount of vertical space to place between</span>
<span class="sd">          lines when text is rendered.</span>

<span class="sd">        All other arguments set the respective initial attributes of the</span>
<span class="sd">        font.  See the documentation for :class:`sge.gfx.Font` for more</span>
<span class="sd">        information.</span>

<span class="sd">        The font&#39;s :attr:`name` attribute will be set to the name of the</span>
<span class="sd">        sprite the font is derived from.</span>

<span class="sd">        The font&#39;s :attr:`size` attribute will indicate the height of</span>
<span class="sd">        the characters in pixels.  The width of the characters will be</span>
<span class="sd">        adjusted proportionally.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sprite</span><span class="p">,</span> <span class="n">Sprite</span><span class="p">):</span>
            <span class="n">e</span> <span class="o">=</span> <span class="s2">&quot;{} is not a valid Sprite object.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">sprite</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">_SpriteFont</span><span class="p">(</span><span class="n">sprite</span><span class="p">,</span> <span class="n">chars</span><span class="p">,</span> <span class="n">hsep</span><span class="p">,</span> <span class="n">vsep</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">underline</span><span class="p">,</span> <span class="n">bold</span><span class="p">,</span>
                           <span class="n">italic</span><span class="p">)</span></div></div>


<span class="k">class</span> <span class="nc">_PygameSpriteFont</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">Font</span><span class="p">):</span>

    <span class="c1"># Special font class that returns good values for a sprite font.</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vsize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>

    <span class="nd">@vsize.setter</span>
    <span class="k">def</span> <span class="nf">vsize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">scale_factor</span> <span class="o">=</span> <span class="n">value</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
            <span class="k">if</span> <span class="n">scale_factor</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*=</span> <span class="n">scale_factor</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">*=</span> <span class="n">scale_factor</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Protection against division by zero.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sprite</span><span class="p">,</span> <span class="n">chars</span><span class="p">,</span> <span class="n">hsep</span><span class="p">,</span> <span class="n">vsep</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span> <span class="o">=</span> <span class="n">sprite</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hsep</span> <span class="o">=</span> <span class="n">hsep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vsep</span> <span class="o">=</span> <span class="n">vsep</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chars</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chars</span> <span class="o">=</span> <span class="n">chars</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chars</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">chars</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="p">[</span><span class="n">chars</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vsize</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">underline</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bold</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">italic</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">antialias</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">xscale</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">width</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">width</span> <span class="o">&gt;</span> <span class="mi">0</span>
                  <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">yscale</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">height</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">height</span> <span class="o">&gt;</span> <span class="mi">0</span>
                  <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">surf</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
        <span class="n">surf</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">):</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="n">sge_color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">((</span><span class="n">color</span><span class="o">.</span><span class="n">r</span><span class="p">,</span> <span class="n">color</span><span class="o">.</span><span class="n">g</span><span class="p">,</span> <span class="n">color</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="n">color</span><span class="o">.</span><span class="n">a</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">six</span><span class="o">.</span><span class="n">moves</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">text</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="p">:</span>
                <span class="n">cimg</span> <span class="o">=</span> <span class="n">s_get_image</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="p">[</span><span class="n">text</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span>
                                   <span class="n">xscale</span><span class="o">=</span><span class="n">xscale</span><span class="p">,</span> <span class="n">yscale</span><span class="o">=</span><span class="n">yscale</span><span class="p">,</span>
                                   <span class="n">blend</span><span class="o">=</span><span class="n">sge_color</span><span class="p">)</span>
                <span class="n">surf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">cimg</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsep</span><span class="p">)),</span> <span class="mi">0</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">text</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">swapcase</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="p">:</span>
                <span class="n">cimg</span> <span class="o">=</span> <span class="n">s_get_image</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="p">[</span><span class="n">text</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">swapcase</span><span class="p">()],</span>
                                   <span class="n">xscale</span><span class="o">=</span><span class="n">xscale</span><span class="p">,</span> <span class="n">yscale</span><span class="o">=</span><span class="n">yscale</span><span class="p">,</span>
                                   <span class="n">blend</span><span class="o">=</span><span class="n">sge_color</span><span class="p">)</span>
                <span class="n">surf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">cimg</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsep</span><span class="p">)),</span> <span class="mi">0</span><span class="p">))</span>
            <span class="k">elif</span> <span class="bp">None</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="p">:</span>
                <span class="n">cimg</span> <span class="o">=</span> <span class="n">s_get_image</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="p">[</span><span class="bp">None</span><span class="p">],</span>
                                   <span class="n">xscale</span><span class="o">=</span><span class="n">xscale</span><span class="p">,</span> <span class="n">yscale</span><span class="o">=</span><span class="n">yscale</span><span class="p">,</span>
                                   <span class="n">blend</span><span class="o">=</span><span class="n">sge_color</span><span class="p">)</span>
                <span class="n">surf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">cimg</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsep</span><span class="p">)),</span> <span class="mi">0</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">background</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">surf</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rsurf</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">pygame</span><span class="o">.</span><span class="n">SRCALPHA</span><span class="p">)</span>
            <span class="n">rsurf</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">background</span><span class="p">)</span>
            <span class="n">rsurf</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">surf</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">rsurf</span>

    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="c1"># XXX: I don&#39;t understand why, but adding an extra pixel to both</span>
        <span class="c1"># the width and the height is necessary.  Without this extra</span>
        <span class="c1"># pixel of width and height, the rightmost column and bottom row</span>
        <span class="c1"># of pixels end up not being displayed.</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsep</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_underline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bool_</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">underline</span> <span class="o">=</span> <span class="n">bool_</span>

    <span class="k">def</span> <span class="nf">get_underline</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">underline</span>

    <span class="k">def</span> <span class="nf">set_bold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bool_</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bold</span> <span class="o">=</span> <span class="n">bool_</span>

    <span class="k">def</span> <span class="nf">get_bold</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">bold</span>

    <span class="k">def</span> <span class="nf">set_italic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bool_</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">italic</span> <span class="o">=</span> <span class="n">bool_</span>

    <span class="k">def</span> <span class="nf">get_italic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">italic</span>

    <span class="k">def</span> <span class="nf">metrics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="n">m</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">text</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_linesize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">vsep</span>

    <span class="k">def</span> <span class="nf">get_height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>

    <span class="k">def</span> <span class="nf">get_ascent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>

    <span class="k">def</span> <span class="nf">get_descent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">0</span>


<span class="k">class</span> <span class="nc">_SpriteFont</span><span class="p">(</span><span class="n">Font</span><span class="p">):</span>

    <span class="c1"># Special sprite font class for Font.from_sprite.</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">vsize</span>

    <span class="nd">@size.setter</span>
    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">vsize</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sprite</span><span class="p">,</span> <span class="n">chars</span><span class="p">,</span> <span class="n">hsep</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vsep</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">underline</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">bold</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">italic</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">sprite</span><span class="o">.</span><span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;font&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_PygameSpriteFont</span><span class="p">(</span><span class="n">sprite</span><span class="p">,</span> <span class="n">chars</span><span class="p">,</span> <span class="n">hsep</span><span class="p">,</span> <span class="n">vsep</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">underline</span> <span class="o">=</span> <span class="n">underline</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bold</span> <span class="o">=</span> <span class="n">bold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">italic</span> <span class="o">=</span> <span class="n">italic</span>


<div class="viewcode-block" id="BackgroundLayer"><a class="viewcode-back" href="../../gfx.html#sge.gfx.BackgroundLayer">[docs]</a><span class="k">class</span> <span class="nc">BackgroundLayer</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class stores a sprite and certain information for a layer of a</span>
<span class="sd">    background.  In particular, it stores the location of the layer,</span>
<span class="sd">    whether the layer tiles horizontally, vertically, or both, and the</span>
<span class="sd">    rate at which it scrolls.</span>

<span class="sd">    .. attribute:: sprite</span>

<span class="sd">       The sprite used for this layer.  It will be animated normally if</span>
<span class="sd">       it contains multiple frames.</span>

<span class="sd">    .. attribute:: x</span>

<span class="sd">       The horizontal location of the layer relative to the background.</span>

<span class="sd">    .. attribute:: y</span>

<span class="sd">       The vertical location of the layer relative to the background.</span>

<span class="sd">    .. attribute:: z</span>

<span class="sd">       The Z-axis position of the layer in the room.</span>

<span class="sd">    .. attribute:: xscroll_rate</span>

<span class="sd">       The horizontal rate that the layer scrolls as a factor of the</span>
<span class="sd">       additive inverse of the horizontal movement of the view.</span>

<span class="sd">    .. attribute:: yscroll_rate</span>

<span class="sd">       The vertical rate that the layer scrolls as a factor of the</span>
<span class="sd">       additive inverse of the vertical movement of the view.</span>

<span class="sd">    .. attribute:: repeat_left</span>

<span class="sd">       Whether or not the layer should be repeated (tiled) to the left.</span>

<span class="sd">    .. attribute:: repeat_right</span>

<span class="sd">       Whether or not the layer should be repeated (tiled) to the right.</span>

<span class="sd">    .. attribute:: repeat_up</span>

<span class="sd">       Whether or not the layer should be repeated (tiled) upwards.</span>

<span class="sd">    .. attribute:: repeat_down</span>

<span class="sd">       Whether or not the layer should be repeated (tiled) downwards.</span>

<span class="sd">    .. attribute:: rd</span>

<span class="sd">       Reserved dictionary for internal use by the SGE.  (Read-only)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BackgroundLayer.__init__"><a class="viewcode-back" href="../../gfx.html#sge.gfx.BackgroundLayer.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sprite</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xscroll_rate</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">yscroll_rate</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                 <span class="n">repeat_left</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">repeat_right</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">repeat_up</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">repeat_down</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Arguments set the respective initial attributes of the layer.</span>
<span class="sd">        See the documentation for :class:`sge.gfx.BackgroundLayer` for</span>
<span class="sd">        more information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span> <span class="o">=</span> <span class="n">sprite</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">z</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xscroll_rate</span> <span class="o">=</span> <span class="n">xscroll_rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yscroll_rate</span> <span class="o">=</span> <span class="n">yscroll_rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeat_left</span> <span class="o">=</span> <span class="n">repeat_left</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeat_right</span> <span class="o">=</span> <span class="n">repeat_right</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeat_up</span> <span class="o">=</span> <span class="n">repeat_up</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeat_down</span> <span class="o">=</span> <span class="n">repeat_down</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;fps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;image_index&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;frame_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span></div></div>


<div class="viewcode-block" id="Background"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Background">[docs]</a><span class="k">class</span> <span class="nc">Background</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class stores the layers that make up the background (which</span>
<span class="sd">    contain the information about what images to use and where) as well</span>
<span class="sd">    as the color to use where no image is shown.</span>

<span class="sd">    .. attribute:: layers</span>

<span class="sd">       A list containing all :class:`sge.gfx.BackgroundLayer` objects</span>
<span class="sd">       used in this background.  (Read-only)</span>

<span class="sd">    .. attribute:: color</span>

<span class="sd">       A :class:`sge.gfx.Color` object representing the color used in</span>
<span class="sd">       parts of the background where no layer is shown.</span>

<span class="sd">    .. attribute:: rd</span>

<span class="sd">       Reserved dictionary for internal use by the SGE.  (Read-only)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__color</span>

    <span class="nd">@color.setter</span>
    <span class="k">def</span> <span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">_check_color</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__color</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="Background.__init__"><a class="viewcode-back" href="../../gfx.html#sge.gfx.Background.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layers</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Arguments set the respective initial attributes of the</span>
<span class="sd">        background.  See the documentation for</span>
<span class="sd">        :class:`sge.gfx.Background` for more information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rd</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>

        <span class="n">sorted_layers</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">layers</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_layers</span><span class="p">)</span> <span class="ow">and</span> <span class="n">layer</span><span class="o">.</span><span class="n">z</span> <span class="o">&gt;=</span> <span class="n">sorted_layers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">z</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">sorted_layers</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">layer</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">layers</span> <span class="o">=</span> <span class="n">sorted_layers</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/sge_logo_alpha_black.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SGE Game Engine 1.5 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>